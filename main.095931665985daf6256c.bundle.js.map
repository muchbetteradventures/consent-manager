{"version":3,"sources":["webpack:///./stories/0.1-consent-manager-close-interaction.stories.tsx","webpack:///./stories/1-standalone.stories.tsx","webpack:///./stories/1.1-standalone-custom.stories.tsx","webpack:///./stories/2-category-based.stories.tsx","webpack:///./stories/3-tool-based.stories.tsx","webpack:///./stories/4-custom-consent.stories.tsx","webpack:///./stories/5-custom-categories.stories.tsx","webpack:///./stories/6-ccpa-gdpr-example.stories.tsx","webpack:///./stories/7-default-destination-behavior.stories.tsx","webpack:///./stories/components/CookieView.tsx","webpack:///./src/consent-manager-builder/preferences.ts","webpack:///./src/consent-manager/index.tsx","webpack:///./stories/components/destination-tile.tsx","webpack:///./src/consent-manager-builder/fetch-destinations.ts","webpack:///./src/consent-manager-builder/analytics.ts","webpack:///./src/consent-manager-builder/index.tsx","webpack:///./src/index.ts","webpack:///./stories/standalone-custom.html","webpack:///./stories/ImplyConsentOnInteraction.tsx","webpack:///./stories/standalone.html","webpack:///./src/consent-manager/font-styles.tsx","webpack:///./src/consent-manager/buttons.tsx","webpack:///./src/consent-manager/banner.tsx","webpack:///./src/consent-manager/dialog.tsx","webpack:///./src/consent-manager/preference-dialog.tsx","webpack:///./src/consent-manager/container.tsx","webpack:///./.storybook/config.js","webpack:///./stories sync \\.stories\\.tsx$","webpack:///./stories/0-consent-manager.stories.tsx","webpack:///./stories/components/common-react.tsx","webpack:///./src/consent-manager/categories.ts"],"names":["withSourceLoader","withSource","__STORY__","__ADDS_MAP__","bannerContent","createElement","href","target","rel","preferencesDialogContent","ConsentManagerExample","writeKey","otherWriteKeys","bannerSubContent","preferencesDialogTitle","marginX","marginTop","display","src","width","height","frameBorder","onClick","remove","window","location","reload","module","addParameters","storySource","source","locationsMap","addDecorator","add","StandaloneConsentManagerExample","Fragment","style","overflow","flex","srcDoc","language","customStyle","__assign","Object","assign","t","s","i","n","arguments","length","p","prototype","hasOwnProperty","call","apply","this","Section","props","is","marginBottom","CategoryBased","maxWidth","margin","onError","e","console","error","_a","destinations","preferences","setPreferences","saveConsent","categories","byCategory","onSubmit","handleSubmit","preventDefault","keys","map","cat","destinationsForCategory","key","flexWrap","d","id","destination","JSON","stringify","type","marginRight","ToolBased","initialPreferences","advertising","marketingAndAnalytics","functional","Custom","shouldRequireConsent","useState","prefs","updatePrefs","cleanup","useEffect","closeBehavior","customCategories","integrations","purpose","inCA","inEU","caDefaultPreferences","_categories","undefined","analytics","track","__SOURCE_PREFIX__","__MAIN_FILE_LOCATION__","__MODULE_DEPENDENCIES__","__LOCAL_DEPENDENCIES__","__IDS_TO_FRAMEWORKS__","defaultDestinationBehavior","getJSON","cookieVal","updateCookieVal","clear","setInterval","clearInterval","allCookies","forEach","COOKIE_KEY","COOKIE_EXPIRES","loadPreferences","destinationPreferences","customPreferences","custom","emitter","onPreferencesSaved","listener","on","off","savePreferences","cookieDomain","wd","identify","destinationTrackingPreferences","customTrackingPreferences","domain","value","version","set","expires","emit","extendStatics","__extends","b","setPrototypeOf","__proto__","Array","__","constructor","create","zeroValuePreferences","ConsentManager","_super","_this","getInitialPreferences","initialCustomPreferences","category","handleMapCustomPreferences","_i","preferenceName","entries","categoryName","consentAlreadySetToFalse","includes","_b","_c","customPrefs","_loop_1","find","c","_d","destinations_1","render","implyConsentOnInteraction","bannerTextColor","bannerBackgroundColor","cdnHost","showRejectAll","mapCustomPreferences","newDestinations","isConsentRequired","resetPreferences","havePreferencesChanged","workspaceAddedNewDestinations","defaultProps","displayName","Destination","elevation","padding","paddingTop","label","website","name","checked","Boolean","onChange","size","description","propTypes","object","isRequired","func","__awaiter","thisArg","_arguments","P","generator","Promise","resolve","reject","fulfilled","step","next","rejected","result","done","adopt","then","__generator","body","f","y","g","_","sent","trys","ops","verb","Symbol","iterator","v","op","TypeError","pop","push","fetchDestinationForWriteKey","res","ok","Error","status","statusText","json","creationName","fetchDestinations","writeKeys","destinationsRequests","writeKeys_1","all","filter","conditionallyLoadAnalytics","shouldReload","categoryPreferences","All","isAnythingEnabled","isEnabled","initialized","middleware","getConsentMiddleware","payload","obj","context","consent","addSourceMiddleware","load","__spreadArrays","il","r","k","a","j","jl","getNewDestinations","ConsentManagerBuilder","state","isLoading","initialise","_e","_f","hasInitialPreferenceToTrue","emptyCustomPreferecences","mapped","_g","values","some","every","setState","handleSetPreferences","newPreferences","prevState","existingPreferences","mergePreferences","handleResetPreferences","handleSaveConsent","args","destinations_2","children","componentDidMount","e_1","ImplyConsentOnInteraction","templateObject_1","templateObject_2","templateObject_3","templateObject_4","templateObject_5","templateObject_6","templateObject_7","templateObject_8","templateObject_9","__makeTemplateObject","cooked","raw","defineProperty","baseStyles","DefaultButton","TextButton","GreenButton","Overlay","Title","Root","backgroundColor","textColor","Content","Actions","Banner","innerRef","onClose","onChangePreferences","content","className","title","openAnimation","Form","Header","HeaderCancelButton","Buttons","Dialog","handleRootRef","node","root","handleFormRef","form","handleOverlayClick","onCancel","contains","handleEsc","keyCode","titleId","container","document","setAttribute","appendChild","buttons","dialog","role","createPortal","input","querySelector","focus","addEventListener","componentWillUnmount","removeEventListener","removeChild","hideOnMobile","TableScroll","Table","ColumnHeading","RowHeading","Row","InputCell","PreferenceDialog","handleChange","onSave","marketingDestinations","advertisingDestinations","functionalDestinations","scope","required","join","openDialog","isDialogOpen","toggleDialog","showBanner","toggleBanner","banner","useRef","preferenceDialog","normalizeDestinations","handleBodyClick","current","showDialog","removeListener","forceCloseBehavior","truePreferences","reduce","acc","falsePreferences","customClosePreferences","subContent","configure","require","webpackContext","req","webpackContextResolve","__webpack_require__","o","code","webpackContextKeys","exports","ADVERTISING_CATEGORIES","FUNCTIONAL_CATEGORIES"],"mappings":"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","file":"main.095931665985daf6256c.bundle.js","sourcesContent":["// @ts-ignore\nvar withSourceLoader = require('@storybook/source-loader/preview').withSource;\n// @ts-ignore\nvar __SOURCE_PREFIX__ = \"/home/guy/Dev/consent-manager/stories\";\n// @ts-ignore\nvar __STORY__ = \"import React from 'react'\\nimport cookies from 'js-cookie'\\nimport { Pane, Heading, Button } from 'evergreen-ui'\\nimport { ConsentManager, openConsentManager } from '../src'\\nimport { storiesOf } from '@storybook/react'\\nimport { ImplyConsentOnInteraction } from './ImplyConsentOnInteraction'\\nimport CookieView from './components/CookieView'\\n\\nconst bannerContent = (\\n  <span>\\n    We use cookies (and other similar technologies) to collect data to improve your experience on\\n    our site. By using our website, you’re agreeing to the collection of data as described in our{' '}\\n    <a\\n      href=\\\"https://segment.com/docs/legal/website-data-collection-policy/\\\"\\n      target=\\\"_blank\\\"\\n      rel=\\\"noopener noreferrer\\\"\\n    >\\n      Website Data Collection Policy\\n    </a>\\n    .\\n  </span>\\n)\\nconst bannerSubContent = 'You can manage your preferences here!'\\nconst preferencesDialogTitle = 'Website Data Collection Preferences'\\nconst preferencesDialogContent = (\\n  <div>\\n    <p>\\n      Segment uses data collected by cookies and JavaScript libraries to improve your browsing\\n      experience, analyze site traffic, deliver personalized advertisements, and increase the\\n      overall performance of our site.\\n    </p>\\n    <p>\\n      By using our website, you’re agreeing to our{' '}\\n      <a\\n        href=\\\"https://segment.com/docs/legal/website-data-collection-policy/\\\"\\n        target=\\\"_blank\\\"\\n        rel=\\\"noopener noreferrer\\\"\\n      >\\n        Website Data Collection Policy\\n      </a>\\n      .\\n    </p>\\n    <p>\\n      The table below outlines how we use this data by category. To opt out of a category of data\\n      collection, select “No” and save your preferences.\\n    </p>\\n  </div>\\n)\\n\\nconst ConsentManagerExample = () => {\\n  return (\\n    <Pane>\\n      <ConsentManager\\n        writeKey=\\\"tYQQPcY78Hc3T1hXUYk0n4xcbEHnN7r0\\\"\\n        otherWriteKeys={['vMRS7xbsjH97Bb2PeKbEKvYDvgMm5T3l']}\\n        bannerContent={bannerContent}\\n        bannerSubContent={bannerSubContent}\\n        preferencesDialogTitle={preferencesDialogTitle}\\n        preferencesDialogContent={preferencesDialogContent}\\n      />\\n\\n      <Pane marginX={100} marginTop={20}>\\n        <Heading> Your website content </Heading>\\n        <Pane display=\\\"flex\\\">\\n          <iframe\\n            src=\\\"https://source.unsplash.com/random/500x600\\\"\\n            width=\\\"480\\\"\\n            height=\\\"480\\\"\\n            frameBorder=\\\"0\\\"\\n          />\\n\\n          <iframe\\n            src=\\\"https://source.unsplash.com/random/500x600\\\"\\n            width=\\\"398\\\"\\n            height=\\\"480\\\"\\n            frameBorder=\\\"0\\\"\\n          />\\n        </Pane>\\n\\n        <p>\\n          <Button onClick={openConsentManager}>Data Collection and Cookie Preferences</Button>\\n        </p>\\n\\n        <p>\\n          <Heading>to see the banner again:</Heading>\\n          <Button\\n            onClick={() => {\\n              cookies.remove('tracking-preferences')\\n              window.location.reload()\\n            }}\\n          >\\n            Clear tracking preferences cookie\\n          </Button>\\n        </p>\\n      </Pane>\\n\\n      <CookieView />\\n    </Pane>\\n  )\\n}\\n\\nstoriesOf('React Component / Basics', module)\\n  .add(`Basic React Component`, () => <ConsentManagerExample />)\\n  .add(`Basic React Component with implied consent`, () => <ImplyConsentOnInteraction />)\\n\";\n// @ts-ignore\nvar __ADDS_MAP__ = {};\n// @ts-ignore\nvar __MAIN_FILE_LOCATION__ = \"/0.1-consent-manager-close-interaction.stories.tsx\";\n// @ts-ignore\nvar __MODULE_DEPENDENCIES__ = [];\n// @ts-ignore\nvar __LOCAL_DEPENDENCIES__ = {};\n// @ts-ignore\nvar __IDS_TO_FRAMEWORKS__ = {};\nimport React from 'react';\nimport cookies from 'js-cookie';\nimport { Pane, Heading, Button } from 'evergreen-ui';\nimport { ConsentManager, openConsentManager } from '../src';\nimport { storiesOf } from '@storybook/react';\nimport { ImplyConsentOnInteraction } from './ImplyConsentOnInteraction';\nimport CookieView from './components/CookieView';\nvar bannerContent = (React.createElement(\"span\", null,\n    \"We use cookies (and other similar technologies) to collect data to improve your experience on our site. By using our website, you\\u2019re agreeing to the collection of data as described in our\",\n    ' ',\n    React.createElement(\"a\", { href: \"https://segment.com/docs/legal/website-data-collection-policy/\", target: \"_blank\", rel: \"noopener noreferrer\" }, \"Website Data Collection Policy\"),\n    \".\"));\nvar bannerSubContent = 'You can manage your preferences here!';\nvar preferencesDialogTitle = 'Website Data Collection Preferences';\nvar preferencesDialogContent = (React.createElement(\"div\", null,\n    React.createElement(\"p\", null, \"Segment uses data collected by cookies and JavaScript libraries to improve your browsing experience, analyze site traffic, deliver personalized advertisements, and increase the overall performance of our site.\"),\n    React.createElement(\"p\", null,\n        \"By using our website, you\\u2019re agreeing to our\",\n        ' ',\n        React.createElement(\"a\", { href: \"https://segment.com/docs/legal/website-data-collection-policy/\", target: \"_blank\", rel: \"noopener noreferrer\" }, \"Website Data Collection Policy\"),\n        \".\"),\n    React.createElement(\"p\", null, \"The table below outlines how we use this data by category. To opt out of a category of data collection, select \\u201CNo\\u201D and save your preferences.\")));\nvar ConsentManagerExample = function () {\n    return (React.createElement(Pane, null,\n        React.createElement(ConsentManager, { writeKey: \"tYQQPcY78Hc3T1hXUYk0n4xcbEHnN7r0\", otherWriteKeys: ['vMRS7xbsjH97Bb2PeKbEKvYDvgMm5T3l'], bannerContent: bannerContent, bannerSubContent: bannerSubContent, preferencesDialogTitle: preferencesDialogTitle, preferencesDialogContent: preferencesDialogContent }),\n        React.createElement(Pane, { marginX: 100, marginTop: 20 },\n            React.createElement(Heading, null, \" Your website content \"),\n            React.createElement(Pane, { display: \"flex\" },\n                React.createElement(\"iframe\", { src: \"https://source.unsplash.com/random/500x600\", width: \"480\", height: \"480\", frameBorder: \"0\" }),\n                React.createElement(\"iframe\", { src: \"https://source.unsplash.com/random/500x600\", width: \"398\", height: \"480\", frameBorder: \"0\" })),\n            React.createElement(\"p\", null,\n                React.createElement(Button, { onClick: openConsentManager }, \"Data Collection and Cookie Preferences\")),\n            React.createElement(\"p\", null,\n                React.createElement(Heading, null, \"to see the banner again:\"),\n                React.createElement(Button, { onClick: function () {\n                        cookies.remove('tracking-preferences');\n                        window.location.reload();\n                    } }, \"Clear tracking preferences cookie\"))),\n        React.createElement(CookieView, null)));\n};\nstoriesOf('React Component / Basics', module).addParameters({ storySource: { source: __STORY__, locationsMap: __ADDS_MAP__ } }).addDecorator(withSourceLoader(__STORY__, __ADDS_MAP__, __MAIN_FILE_LOCATION__, __MODULE_DEPENDENCIES__, __LOCAL_DEPENDENCIES__, __SOURCE_PREFIX__, __IDS_TO_FRAMEWORKS__))\n    .add(\"Basic React Component\", function () { return React.createElement(ConsentManagerExample, null); })\n    .add(\"Basic React Component with implied consent\", function () { return React.createElement(ImplyConsentOnInteraction, null); });\n","// @ts-ignore\nvar withSourceLoader = require('@storybook/source-loader/preview').withSource;\n// @ts-ignore\nvar __SOURCE_PREFIX__ = \"/home/guy/Dev/consent-manager/stories\";\n// @ts-ignore\nvar __STORY__ = \"import React from 'react'\\nimport { storiesOf } from '@storybook/react'\\nimport { Pane } from 'evergreen-ui'\\n\\n// @ts-ignore\\nimport contents from 'raw-loader!./standalone.html'\\nimport CookieView from './components/CookieView'\\n\\nconst StandaloneConsentManagerExample = () => {\\n  return (\\n    <>\\n      <Pane display=\\\"flex\\\" height=\\\"calc(100vh - 10px)\\\">\\n        <iframe\\n          frameBorder=\\\"0\\\"\\n          style={{ overflow: 'hidden', height: '100%', width: '550px', flex: 1 }}\\n          height=\\\"100%\\\"\\n          width=\\\"550\\\"\\n          srcDoc={contents}\\n        ></iframe>\\n      </Pane>\\n\\n      <CookieView />\\n    </>\\n  )\\n}\\n\\nstoriesOf('Standalone / Tag', module).add(`Basic`, () => <StandaloneConsentManagerExample />)\\n\";\n// @ts-ignore\nvar __ADDS_MAP__ = {};\n// @ts-ignore\nvar __MAIN_FILE_LOCATION__ = \"/1-standalone.stories.tsx\";\n// @ts-ignore\nvar __MODULE_DEPENDENCIES__ = [];\n// @ts-ignore\nvar __LOCAL_DEPENDENCIES__ = {};\n// @ts-ignore\nvar __IDS_TO_FRAMEWORKS__ = {};\nimport React from 'react';\nimport { storiesOf } from '@storybook/react';\nimport { Pane } from 'evergreen-ui';\n// @ts-ignore\nimport contents from 'raw-loader!./standalone.html';\nimport CookieView from './components/CookieView';\nvar StandaloneConsentManagerExample = function () {\n    return (React.createElement(React.Fragment, null,\n        React.createElement(Pane, { display: \"flex\", height: \"calc(100vh - 10px)\" },\n            React.createElement(\"iframe\", { frameBorder: \"0\", style: { overflow: 'hidden', height: '100%', width: '550px', flex: 1 }, height: \"100%\", width: \"550\", srcDoc: contents })),\n        React.createElement(CookieView, null)));\n};\nstoriesOf('Standalone / Tag', module).addParameters({ storySource: { source: __STORY__, locationsMap: __ADDS_MAP__ } }).addDecorator(withSourceLoader(__STORY__, __ADDS_MAP__, __MAIN_FILE_LOCATION__, __MODULE_DEPENDENCIES__, __LOCAL_DEPENDENCIES__, __SOURCE_PREFIX__, __IDS_TO_FRAMEWORKS__)).add(\"Basic\", function () { return React.createElement(StandaloneConsentManagerExample, null); });\n","// @ts-ignore\nvar withSourceLoader = require('@storybook/source-loader/preview').withSource;\n// @ts-ignore\nvar __SOURCE_PREFIX__ = \"/home/guy/Dev/consent-manager/stories\";\n// @ts-ignore\nvar __STORY__ = \"import React from 'react'\\nimport { storiesOf } from '@storybook/react'\\nimport { Pane } from 'evergreen-ui'\\nimport SyntaxHighlighter from 'react-syntax-highlighter'\\nimport { docco } from 'react-syntax-highlighter/dist/esm/styles/hljs'\\n\\n// @ts-ignore\\nimport contents from 'raw-loader!./standalone-custom.html'\\nimport CookieView from './components/CookieView'\\n\\nconst StandaloneConsentManagerExample = () => {\\n  return (\\n    <>\\n      <Pane display=\\\"flex\\\" height=\\\"calc(100vh - 10px)\\\">\\n        <iframe\\n          frameBorder=\\\"0\\\"\\n          style={{ overflow: 'hidden', height: '100%', width: '550px', flex: 1 }}\\n          height=\\\"100%\\\"\\n          width=\\\"550\\\"\\n          srcDoc={contents}\\n        ></iframe>\\n        <SyntaxHighlighter language=\\\"html\\\" style={docco} customStyle={{ flex: 1 }}>\\n          {contents}\\n        </SyntaxHighlighter>\\n      </Pane>\\n      <CookieView />\\n    </>\\n  )\\n}\\n\\nstoriesOf('Standalone / Javascript', module).add(`with Customization`, () => (\\n  <StandaloneConsentManagerExample />\\n))\\n\";\n// @ts-ignore\nvar __ADDS_MAP__ = {};\n// @ts-ignore\nvar __MAIN_FILE_LOCATION__ = \"/1.1-standalone-custom.stories.tsx\";\n// @ts-ignore\nvar __MODULE_DEPENDENCIES__ = [];\n// @ts-ignore\nvar __LOCAL_DEPENDENCIES__ = {};\n// @ts-ignore\nvar __IDS_TO_FRAMEWORKS__ = {};\nimport React from 'react';\nimport { storiesOf } from '@storybook/react';\nimport { Pane } from 'evergreen-ui';\nimport SyntaxHighlighter from 'react-syntax-highlighter';\nimport { docco } from 'react-syntax-highlighter/dist/esm/styles/hljs';\n// @ts-ignore\nimport contents from 'raw-loader!./standalone-custom.html';\nimport CookieView from './components/CookieView';\nvar StandaloneConsentManagerExample = function () {\n    return (React.createElement(React.Fragment, null,\n        React.createElement(Pane, { display: \"flex\", height: \"calc(100vh - 10px)\" },\n            React.createElement(\"iframe\", { frameBorder: \"0\", style: { overflow: 'hidden', height: '100%', width: '550px', flex: 1 }, height: \"100%\", width: \"550\", srcDoc: contents }),\n            React.createElement(SyntaxHighlighter, { language: \"html\", style: docco, customStyle: { flex: 1 } }, contents)),\n        React.createElement(CookieView, null)));\n};\nstoriesOf('Standalone / Javascript', module).addParameters({ storySource: { source: __STORY__, locationsMap: __ADDS_MAP__ } }).addDecorator(withSourceLoader(__STORY__, __ADDS_MAP__, __MAIN_FILE_LOCATION__, __MODULE_DEPENDENCIES__, __LOCAL_DEPENDENCIES__, __SOURCE_PREFIX__, __IDS_TO_FRAMEWORKS__)).add(\"with Customization\", function () { return (React.createElement(StandaloneConsentManagerExample, null)); });\n","var __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\n// @ts-ignore\nvar withSourceLoader = require('@storybook/source-loader/preview').withSource;\n// @ts-ignore\nvar __SOURCE_PREFIX__ = \"/home/guy/Dev/consent-manager/stories\";\n// @ts-ignore\nvar __STORY__ = \"import React from 'react'\\nimport { groupBy } from 'lodash'\\nimport { Pane, Heading, SubHeading, Ul, Code, Button } from 'evergreen-ui'\\nimport { ConsentManagerBuilder } from '../src'\\nimport DestinationTile from './components/destination-tile'\\nimport { storiesOf } from '@storybook/react'\\nimport CookieView from './components/CookieView'\\n\\nfunction Section(props) {\\n  return <Pane is=\\\"section\\\" marginBottom={24} {...props} />\\n}\\n\\nfunction byCategory(destinations) {\\n  return groupBy(destinations, 'category')\\n}\\n\\nconst CategoryBased = () => {\\n  return (\\n    <Pane maxWidth={1000} margin={30}>\\n      <ConsentManagerBuilder\\n        onError={e => console.error('Error Handling', e)}\\n        writeKey=\\\"tYQQPcY78Hc3T1hXUYk0n4xcbEHnN7r0\\\"\\n        otherWriteKeys={['vMRS7xbsjH97Bb2PeKbEKvYDvgMm5T3l']}\\n      >\\n        {({ destinations, preferences, setPreferences, saveConsent }) => {\\n          function handleSubmit(e) {\\n            e.preventDefault()\\n            saveConsent()\\n          }\\n\\n          const categories = byCategory(destinations)\\n\\n          return (\\n            <form onSubmit={handleSubmit}>\\n              <Section>\\n                <Heading>ACME Would like to track you with the following tools:</Heading>\\n\\n                {Object.keys(categories).map(cat => {\\n                  const destinationsForCategory = categories[cat]\\n                  return (\\n                    <Pane key={cat} marginTop={20}>\\n                      <SubHeading>{cat}</SubHeading>\\n                      <Ul display=\\\"flex\\\" flexWrap=\\\"wrap\\\">\\n                        {destinationsForCategory.map(d => (\\n                          <DestinationTile\\n                            key={d.id}\\n                            destination={d}\\n                            setPreferences={setPreferences}\\n                            preferences={preferences}\\n                          />\\n                        ))}\\n                      </Ul>\\n                    </Pane>\\n                  )\\n                })}\\n              </Section>\\n\\n              <Section>\\n                <Heading>Preferences</Heading>\\n                <Code>{JSON.stringify(preferences)}</Code>\\n              </Section>\\n\\n              <Button type=\\\"submit\\\" marginRight={8}>\\n                Save\\n              </Button>\\n\\n              <Button type=\\\"button\\\" onClick={() => saveConsent(true)} marginRight={8}>\\n                Allow all\\n              </Button>\\n\\n              <Button type=\\\"button\\\" onClick={() => saveConsent(false)}>\\n                Deny all\\n              </Button>\\n            </form>\\n          )\\n        }}\\n      </ConsentManagerBuilder>\\n\\n      <CookieView />\\n    </Pane>\\n  )\\n}\\n\\nstoriesOf('ConsentManagerBuilder', module).add(`Category Based`, () => <CategoryBased />)\\n\";\n// @ts-ignore\nvar __ADDS_MAP__ = {};\n// @ts-ignore\nvar __MAIN_FILE_LOCATION__ = \"/2-category-based.stories.tsx\";\n// @ts-ignore\nvar __MODULE_DEPENDENCIES__ = [];\n// @ts-ignore\nvar __LOCAL_DEPENDENCIES__ = {};\n// @ts-ignore\nvar __IDS_TO_FRAMEWORKS__ = {};\nimport React from 'react';\nimport { groupBy } from 'lodash';\nimport { Pane, Heading, SubHeading, Ul, Code, Button } from 'evergreen-ui';\nimport { ConsentManagerBuilder } from '../src';\nimport DestinationTile from './components/destination-tile';\nimport { storiesOf } from '@storybook/react';\nimport CookieView from './components/CookieView';\nfunction Section(props) {\n    return React.createElement(Pane, __assign({ is: \"section\", marginBottom: 24 }, props));\n}\nfunction byCategory(destinations) {\n    return groupBy(destinations, 'category');\n}\nvar CategoryBased = function () {\n    return (React.createElement(Pane, { maxWidth: 1000, margin: 30 },\n        React.createElement(ConsentManagerBuilder, { onError: function (e) { return console.error('Error Handling', e); }, writeKey: \"tYQQPcY78Hc3T1hXUYk0n4xcbEHnN7r0\", otherWriteKeys: ['vMRS7xbsjH97Bb2PeKbEKvYDvgMm5T3l'] }, function (_a) {\n            var destinations = _a.destinations, preferences = _a.preferences, setPreferences = _a.setPreferences, saveConsent = _a.saveConsent;\n            function handleSubmit(e) {\n                e.preventDefault();\n                saveConsent();\n            }\n            var categories = byCategory(destinations);\n            return (React.createElement(\"form\", { onSubmit: handleSubmit },\n                React.createElement(Section, null,\n                    React.createElement(Heading, null, \"ACME Would like to track you with the following tools:\"),\n                    Object.keys(categories).map(function (cat) {\n                        var destinationsForCategory = categories[cat];\n                        return (React.createElement(Pane, { key: cat, marginTop: 20 },\n                            React.createElement(SubHeading, null, cat),\n                            React.createElement(Ul, { display: \"flex\", flexWrap: \"wrap\" }, destinationsForCategory.map(function (d) { return (React.createElement(DestinationTile, { key: d.id, destination: d, setPreferences: setPreferences, preferences: preferences })); }))));\n                    })),\n                React.createElement(Section, null,\n                    React.createElement(Heading, null, \"Preferences\"),\n                    React.createElement(Code, null, JSON.stringify(preferences))),\n                React.createElement(Button, { type: \"submit\", marginRight: 8 }, \"Save\"),\n                React.createElement(Button, { type: \"button\", onClick: function () { return saveConsent(true); }, marginRight: 8 }, \"Allow all\"),\n                React.createElement(Button, { type: \"button\", onClick: function () { return saveConsent(false); } }, \"Deny all\")));\n        }),\n        React.createElement(CookieView, null)));\n};\nstoriesOf('ConsentManagerBuilder', module).addParameters({ storySource: { source: __STORY__, locationsMap: __ADDS_MAP__ } }).addDecorator(withSourceLoader(__STORY__, __ADDS_MAP__, __MAIN_FILE_LOCATION__, __MODULE_DEPENDENCIES__, __LOCAL_DEPENDENCIES__, __SOURCE_PREFIX__, __IDS_TO_FRAMEWORKS__)).add(\"Category Based\", function () { return React.createElement(CategoryBased, null); });\n","var __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\n// @ts-ignore\nvar withSourceLoader = require('@storybook/source-loader/preview').withSource;\n// @ts-ignore\nvar __SOURCE_PREFIX__ = \"/home/guy/Dev/consent-manager/stories\";\n// @ts-ignore\nvar __STORY__ = \"import React from 'react'\\nimport { Pane, Heading, SubHeading, Ul, Code, Button } from 'evergreen-ui'\\nimport { ConsentManagerBuilder } from '../src'\\nimport DestinationTile from './components/destination-tile'\\nimport { storiesOf } from '@storybook/react'\\nimport CookieView from './components/CookieView'\\n\\nfunction Section(props) {\\n  return <Pane is=\\\"section\\\" marginBottom={24} {...props} />\\n}\\n\\nconst ToolBased = () => {\\n  return (\\n    <Pane maxWidth={1000} margin={30}>\\n      <ConsentManagerBuilder\\n        writeKey=\\\"tYQQPcY78Hc3T1hXUYk0n4xcbEHnN7r0\\\"\\n        otherWriteKeys={['vMRS7xbsjH97Bb2PeKbEKvYDvgMm5T3l']}\\n      >\\n        {({ destinations, preferences, setPreferences, saveConsent }) => {\\n          function handleSubmit(e) {\\n            e.preventDefault()\\n            saveConsent()\\n          }\\n\\n          return (\\n            <form onSubmit={handleSubmit}>\\n              <Section>\\n                <Heading>ACME Would like to track you with the following tools:</Heading>\\n                <Ul display=\\\"flex\\\" flexWrap=\\\"wrap\\\">\\n                  {destinations.map(d => (\\n                    <DestinationTile\\n                      key={d.id}\\n                      destination={d}\\n                      setPreferences={setPreferences}\\n                      preferences={preferences}\\n                    />\\n                  ))}\\n                </Ul>\\n              </Section>\\n\\n              <Section>\\n                <SubHeading>Preferences</SubHeading>\\n                <Code>{JSON.stringify(preferences)}</Code>\\n              </Section>\\n\\n              <Button type=\\\"submit\\\" marginRight={8}>\\n                Save\\n              </Button>\\n\\n              <Button type=\\\"button\\\" onClick={() => saveConsent(true)} marginRight={8}>\\n                Allow all\\n              </Button>\\n\\n              <Button type=\\\"button\\\" onClick={() => saveConsent(false)}>\\n                Deny all\\n              </Button>\\n            </form>\\n          )\\n        }}\\n      </ConsentManagerBuilder>\\n\\n      <CookieView />\\n    </Pane>\\n  )\\n}\\n\\nstoriesOf('ConsentManagerBuilder', module).add(`Tool Based`, () => <ToolBased />)\\n\";\n// @ts-ignore\nvar __ADDS_MAP__ = {};\n// @ts-ignore\nvar __MAIN_FILE_LOCATION__ = \"/3-tool-based.stories.tsx\";\n// @ts-ignore\nvar __MODULE_DEPENDENCIES__ = [];\n// @ts-ignore\nvar __LOCAL_DEPENDENCIES__ = {};\n// @ts-ignore\nvar __IDS_TO_FRAMEWORKS__ = {};\nimport React from 'react';\nimport { Pane, Heading, SubHeading, Ul, Code, Button } from 'evergreen-ui';\nimport { ConsentManagerBuilder } from '../src';\nimport DestinationTile from './components/destination-tile';\nimport { storiesOf } from '@storybook/react';\nimport CookieView from './components/CookieView';\nfunction Section(props) {\n    return React.createElement(Pane, __assign({ is: \"section\", marginBottom: 24 }, props));\n}\nvar ToolBased = function () {\n    return (React.createElement(Pane, { maxWidth: 1000, margin: 30 },\n        React.createElement(ConsentManagerBuilder, { writeKey: \"tYQQPcY78Hc3T1hXUYk0n4xcbEHnN7r0\", otherWriteKeys: ['vMRS7xbsjH97Bb2PeKbEKvYDvgMm5T3l'] }, function (_a) {\n            var destinations = _a.destinations, preferences = _a.preferences, setPreferences = _a.setPreferences, saveConsent = _a.saveConsent;\n            function handleSubmit(e) {\n                e.preventDefault();\n                saveConsent();\n            }\n            return (React.createElement(\"form\", { onSubmit: handleSubmit },\n                React.createElement(Section, null,\n                    React.createElement(Heading, null, \"ACME Would like to track you with the following tools:\"),\n                    React.createElement(Ul, { display: \"flex\", flexWrap: \"wrap\" }, destinations.map(function (d) { return (React.createElement(DestinationTile, { key: d.id, destination: d, setPreferences: setPreferences, preferences: preferences })); }))),\n                React.createElement(Section, null,\n                    React.createElement(SubHeading, null, \"Preferences\"),\n                    React.createElement(Code, null, JSON.stringify(preferences))),\n                React.createElement(Button, { type: \"submit\", marginRight: 8 }, \"Save\"),\n                React.createElement(Button, { type: \"button\", onClick: function () { return saveConsent(true); }, marginRight: 8 }, \"Allow all\"),\n                React.createElement(Button, { type: \"button\", onClick: function () { return saveConsent(false); } }, \"Deny all\")));\n        }),\n        React.createElement(CookieView, null)));\n};\nstoriesOf('ConsentManagerBuilder', module).addParameters({ storySource: { source: __STORY__, locationsMap: __ADDS_MAP__ } }).addDecorator(withSourceLoader(__STORY__, __ADDS_MAP__, __MAIN_FILE_LOCATION__, __MODULE_DEPENDENCIES__, __LOCAL_DEPENDENCIES__, __SOURCE_PREFIX__, __IDS_TO_FRAMEWORKS__)).add(\"Tool Based\", function () { return React.createElement(ToolBased, null); });\n","var __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\n// @ts-ignore\nvar withSourceLoader = require('@storybook/source-loader/preview').withSource;\n// @ts-ignore\nvar __SOURCE_PREFIX__ = \"/home/guy/Dev/consent-manager/stories\";\n// @ts-ignore\nvar __STORY__ = \"import React from 'react'\\nimport { Pane, Button } from 'evergreen-ui'\\nimport { storiesOf } from '@storybook/react'\\nimport ConsentManager from '../src/consent-manager'\\nimport * as common from './components/common-react'\\nimport { openConsentManager } from '../src'\\nimport CookieView from './components/CookieView'\\n\\nconst initialPreferences = {\\n  advertising: false,\\n  marketingAndAnalytics: true,\\n  functional: true\\n}\\n\\nconst Custom = () => {\\n  return (\\n    <Pane maxWidth={1000} margin={30}>\\n      <ConsentManager\\n        writeKey=\\\"tYQQPcY78Hc3T1hXUYk0n4xcbEHnN7r0\\\"\\n        initialPreferences={initialPreferences}\\n        shouldRequireConsent={() => true}\\n        {...common}\\n      />\\n\\n      <Button marginRight={20} onClick={openConsentManager}>\\n        Change Cookie Preferences\\n      </Button>\\n\\n      <CookieView />\\n    </Pane>\\n  )\\n}\\n\\nstoriesOf('Advanced Use Cases', module).add(`Partial consent`, () => <Custom />)\\n\";\n// @ts-ignore\nvar __ADDS_MAP__ = {};\n// @ts-ignore\nvar __MAIN_FILE_LOCATION__ = \"/4-custom-consent.stories.tsx\";\n// @ts-ignore\nvar __MODULE_DEPENDENCIES__ = [];\n// @ts-ignore\nvar __LOCAL_DEPENDENCIES__ = {};\n// @ts-ignore\nvar __IDS_TO_FRAMEWORKS__ = {};\nimport React from 'react';\nimport { Pane, Button } from 'evergreen-ui';\nimport { storiesOf } from '@storybook/react';\nimport ConsentManager from '../src/consent-manager';\nimport * as common from './components/common-react';\nimport { openConsentManager } from '../src';\nimport CookieView from './components/CookieView';\nvar initialPreferences = {\n    advertising: false,\n    marketingAndAnalytics: true,\n    functional: true\n};\nvar Custom = function () {\n    return (React.createElement(Pane, { maxWidth: 1000, margin: 30 },\n        React.createElement(ConsentManager, __assign({ writeKey: \"tYQQPcY78Hc3T1hXUYk0n4xcbEHnN7r0\", initialPreferences: initialPreferences, shouldRequireConsent: function () { return true; } }, common)),\n        React.createElement(Button, { marginRight: 20, onClick: openConsentManager }, \"Change Cookie Preferences\"),\n        React.createElement(CookieView, null)));\n};\nstoriesOf('Advanced Use Cases', module).addParameters({ storySource: { source: __STORY__, locationsMap: __ADDS_MAP__ } }).addDecorator(withSourceLoader(__STORY__, __ADDS_MAP__, __MAIN_FILE_LOCATION__, __MODULE_DEPENDENCIES__, __LOCAL_DEPENDENCIES__, __SOURCE_PREFIX__, __IDS_TO_FRAMEWORKS__)).add(\"Partial consent\", function () { return React.createElement(Custom, null); });\n","var __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\n// @ts-ignore\nvar withSourceLoader = require('@storybook/source-loader/preview').withSource;\n// @ts-ignore\nvar __SOURCE_PREFIX__ = \"/home/guy/Dev/consent-manager/stories\";\n// @ts-ignore\nvar __STORY__ = \"import React from 'react'\\nimport cookies from 'js-cookie'\\nimport { Pane, Heading, Button } from 'evergreen-ui'\\nimport { ConsentManager, openConsentManager, loadPreferences, onPreferencesSaved } from '../src'\\nimport { storiesOf } from '@storybook/react'\\nimport { CloseBehavior, CloseBehaviorFunction } from '../src/consent-manager/container'\\nimport { docco } from 'react-syntax-highlighter/dist/esm/styles/hljs'\\nimport SyntaxHighlighter from 'react-syntax-highlighter'\\nimport { Preferences } from '../src/types'\\nimport CookieView from './components/CookieView'\\n\\nconst bannerContent = (\\n  <span>\\n    We use cookies (and other similar technologies) to collect data to improve your experience on\\n    our site. By using our website, you’re agreeing to the collection of data as described in our{' '}\\n    <a\\n      href=\\\"https://segment.com/docs/legal/website-data-collection-policy/\\\"\\n      target=\\\"_blank\\\"\\n      rel=\\\"noopener noreferrer\\\"\\n    >\\n      Website Data Collection Policy\\n    </a>\\n    .\\n  </span>\\n)\\nconst bannerSubContent = 'You can manage your preferences here!'\\nconst preferencesDialogTitle = 'Website Data Collection Preferences'\\nconst preferencesDialogContent = (\\n  <div>\\n    <p>\\n      Segment uses data collected by cookies and JavaScript libraries to improve your browsing\\n      experience, analyze site traffic, deliver personalized advertisements, and increase the\\n      overall performance of our site.\\n    </p>\\n    <p>\\n      By using our website, you’re agreeing to our{' '}\\n      <a\\n        href=\\\"https://segment.com/docs/legal/website-data-collection-policy/\\\"\\n        target=\\\"_blank\\\"\\n        rel=\\\"noopener noreferrer\\\"\\n      >\\n        Website Data Collection Policy\\n      </a>\\n      .\\n    </p>\\n    <p>\\n      The table below outlines how we use this data by category. To opt out of a category of data\\n      collection, select “No” and save your preferences.\\n    </p>\\n  </div>\\n)\\n\\nconst ConsentManagerExample = (props: { closeBehavior: CloseBehavior | CloseBehaviorFunction }) => {\\n  const [prefs, updatePrefs] = React.useState<Preferences>(loadPreferences())\\n\\n  const cleanup = onPreferencesSaved(preferences => {\\n    updatePrefs(preferences)\\n  })\\n\\n  React.useEffect(() => {\\n    return () => {\\n      cleanup()\\n    }\\n  })\\n\\n  return (\\n    <Pane>\\n      <ConsentManager\\n        writeKey=\\\"tYQQPcY78Hc3T1hXUYk0n4xcbEHnN7r0\\\"\\n        otherWriteKeys={['vMRS7xbsjH97Bb2PeKbEKvYDvgMm5T3l']}\\n        bannerContent={bannerContent}\\n        bannerSubContent={bannerSubContent}\\n        preferencesDialogTitle={preferencesDialogTitle}\\n        preferencesDialogContent={preferencesDialogContent}\\n        closeBehavior={props.closeBehavior}\\n        customCategories={{\\n          'Do Not Sell': {\\n            integrations: ['AdWords'],\\n            purpose: 'To give the right to opt out of the sale of personal data.'\\n          }\\n        }}\\n      />\\n\\n      <Pane marginX={100} marginTop={20}>\\n        <Heading> Cute Cats </Heading>\\n        <Pane display=\\\"flex\\\">\\n          <iframe\\n            src=\\\"https://source.unsplash.com/random/500x600\\\"\\n            width=\\\"480\\\"\\n            height=\\\"480\\\"\\n            frameBorder=\\\"0\\\"\\n          />\\n\\n          <iframe\\n            src=\\\"https://source.unsplash.com/random/500x600\\\"\\n            width=\\\"398\\\"\\n            height=\\\"480\\\"\\n            frameBorder=\\\"0\\\"\\n          />\\n        </Pane>\\n\\n        <p>\\n          <div>\\n            <Heading>Current Preferences</Heading>\\n            <SyntaxHighlighter language=\\\"json\\\" style={docco}>\\n              {JSON.stringify(prefs, null, 2)}\\n            </SyntaxHighlighter>\\n          </div>\\n          <Button marginRight={20} onClick={openConsentManager}>\\n            Change Cookie Preferences\\n          </Button>\\n          <Button\\n            onClick={() => {\\n              cookies.remove('tracking-preferences')\\n              window.location.reload()\\n            }}\\n          >\\n            Clear\\n          </Button>\\n        </p>\\n      </Pane>\\n      <CookieView />\\n    </Pane>\\n  )\\n}\\n\\nstoriesOf('Custom Categories - Do Not Sell', module)\\n  .add(`Dismiss`, () => <ConsentManagerExample closeBehavior={CloseBehavior.DISMISS} />)\\n  .add(`Accept`, () => <ConsentManagerExample closeBehavior={CloseBehavior.ACCEPT} />)\\n  .add(`Deny`, () => <ConsentManagerExample closeBehavior={CloseBehavior.DENY} />)\\n  .add(`Custom Close Behavior`, () => (\\n    <ConsentManagerExample\\n      closeBehavior={categories => ({\\n        ...categories,\\n        'Do Not Sell': false\\n      })}\\n    />\\n  ))\\n\";\n// @ts-ignore\nvar __ADDS_MAP__ = {};\n// @ts-ignore\nvar __MAIN_FILE_LOCATION__ = \"/5-custom-categories.stories.tsx\";\n// @ts-ignore\nvar __MODULE_DEPENDENCIES__ = [];\n// @ts-ignore\nvar __LOCAL_DEPENDENCIES__ = {};\n// @ts-ignore\nvar __IDS_TO_FRAMEWORKS__ = {};\nimport React from 'react';\nimport cookies from 'js-cookie';\nimport { Pane, Heading, Button } from 'evergreen-ui';\nimport { ConsentManager, openConsentManager, loadPreferences, onPreferencesSaved } from '../src';\nimport { storiesOf } from '@storybook/react';\nimport { docco } from 'react-syntax-highlighter/dist/esm/styles/hljs';\nimport SyntaxHighlighter from 'react-syntax-highlighter';\nimport CookieView from './components/CookieView';\nvar bannerContent = (React.createElement(\"span\", null,\n    \"We use cookies (and other similar technologies) to collect data to improve your experience on our site. By using our website, you\\u2019re agreeing to the collection of data as described in our\",\n    ' ',\n    React.createElement(\"a\", { href: \"https://segment.com/docs/legal/website-data-collection-policy/\", target: \"_blank\", rel: \"noopener noreferrer\" }, \"Website Data Collection Policy\"),\n    \".\"));\nvar bannerSubContent = 'You can manage your preferences here!';\nvar preferencesDialogTitle = 'Website Data Collection Preferences';\nvar preferencesDialogContent = (React.createElement(\"div\", null,\n    React.createElement(\"p\", null, \"Segment uses data collected by cookies and JavaScript libraries to improve your browsing experience, analyze site traffic, deliver personalized advertisements, and increase the overall performance of our site.\"),\n    React.createElement(\"p\", null,\n        \"By using our website, you\\u2019re agreeing to our\",\n        ' ',\n        React.createElement(\"a\", { href: \"https://segment.com/docs/legal/website-data-collection-policy/\", target: \"_blank\", rel: \"noopener noreferrer\" }, \"Website Data Collection Policy\"),\n        \".\"),\n    React.createElement(\"p\", null, \"The table below outlines how we use this data by category. To opt out of a category of data collection, select \\u201CNo\\u201D and save your preferences.\")));\nvar ConsentManagerExample = function (props) {\n    var _a = React.useState(loadPreferences()), prefs = _a[0], updatePrefs = _a[1];\n    var cleanup = onPreferencesSaved(function (preferences) {\n        updatePrefs(preferences);\n    });\n    React.useEffect(function () {\n        return function () {\n            cleanup();\n        };\n    });\n    return (React.createElement(Pane, null,\n        React.createElement(ConsentManager, { writeKey: \"tYQQPcY78Hc3T1hXUYk0n4xcbEHnN7r0\", otherWriteKeys: ['vMRS7xbsjH97Bb2PeKbEKvYDvgMm5T3l'], bannerContent: bannerContent, bannerSubContent: bannerSubContent, preferencesDialogTitle: preferencesDialogTitle, preferencesDialogContent: preferencesDialogContent, closeBehavior: props.closeBehavior, customCategories: {\n                'Do Not Sell': {\n                    integrations: ['AdWords'],\n                    purpose: 'To give the right to opt out of the sale of personal data.'\n                }\n            } }),\n        React.createElement(Pane, { marginX: 100, marginTop: 20 },\n            React.createElement(Heading, null, \" Cute Cats \"),\n            React.createElement(Pane, { display: \"flex\" },\n                React.createElement(\"iframe\", { src: \"https://source.unsplash.com/random/500x600\", width: \"480\", height: \"480\", frameBorder: \"0\" }),\n                React.createElement(\"iframe\", { src: \"https://source.unsplash.com/random/500x600\", width: \"398\", height: \"480\", frameBorder: \"0\" })),\n            React.createElement(\"p\", null,\n                React.createElement(\"div\", null,\n                    React.createElement(Heading, null, \"Current Preferences\"),\n                    React.createElement(SyntaxHighlighter, { language: \"json\", style: docco }, JSON.stringify(prefs, null, 2))),\n                React.createElement(Button, { marginRight: 20, onClick: openConsentManager }, \"Change Cookie Preferences\"),\n                React.createElement(Button, { onClick: function () {\n                        cookies.remove('tracking-preferences');\n                        window.location.reload();\n                    } }, \"Clear\"))),\n        React.createElement(CookieView, null)));\n};\nstoriesOf('Custom Categories - Do Not Sell', module).addParameters({ storySource: { source: __STORY__, locationsMap: __ADDS_MAP__ } }).addDecorator(withSourceLoader(__STORY__, __ADDS_MAP__, __MAIN_FILE_LOCATION__, __MODULE_DEPENDENCIES__, __LOCAL_DEPENDENCIES__, __SOURCE_PREFIX__, __IDS_TO_FRAMEWORKS__))\n    .add(\"Dismiss\", function () { return React.createElement(ConsentManagerExample, { closeBehavior: \"dismiss\" /* DISMISS */ }); })\n    .add(\"Accept\", function () { return React.createElement(ConsentManagerExample, { closeBehavior: \"accept\" /* ACCEPT */ }); })\n    .add(\"Deny\", function () { return React.createElement(ConsentManagerExample, { closeBehavior: \"deny\" /* DENY */ }); })\n    .add(\"Custom Close Behavior\", function () { return (React.createElement(ConsentManagerExample, { closeBehavior: function (categories) { return (__assign(__assign({}, categories), { 'Do Not Sell': false })); } })); });\n","// @ts-ignore\nvar withSourceLoader = require('@storybook/source-loader/preview').withSource;\n// @ts-ignore\nvar __SOURCE_PREFIX__ = \"/home/guy/Dev/consent-manager/stories\";\n// @ts-ignore\nvar __STORY__ = \"import React from 'react'\\nimport cookies from 'js-cookie'\\nimport { Pane, Heading, Paragraph, Button } from 'evergreen-ui'\\nimport { ConsentManager, openConsentManager, loadPreferences, onPreferencesSaved } from '../src'\\nimport { storiesOf } from '@storybook/react'\\nimport { docco } from 'react-syntax-highlighter/dist/esm/styles/hljs'\\nimport SyntaxHighlighter from 'react-syntax-highlighter'\\nimport { Preferences } from '../src/types'\\nimport CookieView from './components/CookieView'\\nimport inRegions from '@segment/in-regions'\\nimport { CloseBehavior } from '../src/consent-manager/container'\\n\\nconst bannerContent = (\\n  <span>\\n    We use cookies (and other similar technologies) to collect data to improve your experience on\\n    our site. By using our website, you’re agreeing to the collection of data as described in our{' '}\\n    <a\\n      href=\\\"https://segment.com/docs/legal/website-data-collection-policy/\\\"\\n      target=\\\"_blank\\\"\\n      rel=\\\"noopener noreferrer\\\"\\n    >\\n      Website Data Collection Policy\\n    </a>\\n    .\\n  </span>\\n)\\nconst bannerSubContent = 'You can manage your preferences here!'\\nconst preferencesDialogTitle = 'Website Data Collection Preferences'\\nconst preferencesDialogContent = (\\n  <div>\\n    <p>\\n      Segment uses data collected by cookies and JavaScript libraries to improve your browsing\\n      experience, analyze site traffic, deliver personalized advertisements, and increase the\\n      overall performance of our site.\\n    </p>\\n    <p>\\n      By using our website, you’re agreeing to our{' '}\\n      <a\\n        href=\\\"https://segment.com/docs/legal/website-data-collection-policy/\\\"\\n        target=\\\"_blank\\\"\\n        rel=\\\"noopener noreferrer\\\"\\n      >\\n        Website Data Collection Policy\\n      </a>\\n      .\\n    </p>\\n    <p>\\n      The table below outlines how we use this data by category. To opt out of a category of data\\n      collection, select “No” and save your preferences.\\n    </p>\\n  </div>\\n)\\n\\nconst ConsentManagerExample = () => {\\n  const [prefs, updatePrefs] = React.useState<Preferences>(loadPreferences())\\n\\n  const cleanup = onPreferencesSaved(preferences => {\\n    updatePrefs(preferences)\\n  })\\n\\n  React.useEffect(() => {\\n    return () => {\\n      cleanup()\\n    }\\n  })\\n\\n  const inCA = inRegions(['CA'])\\n  const inEU = inRegions(['EU'])\\n  const shouldRequireConsent = inRegions(['CA', 'EU'])\\n  const caDefaultPreferences = {\\n    advertising: false,\\n    marketingAndAnalytics: true,\\n    functional: true\\n  }\\n  const euDefaultPreferences = {\\n    advertising: false,\\n    marketingAndAnalytics: false,\\n    functional: false\\n  }\\n\\n  const closeBehavior = inCA()\\n    ? _categories => caDefaultPreferences\\n    : inEU()\\n    ? CloseBehavior.DENY\\n    : CloseBehavior.ACCEPT\\n\\n  const initialPreferences = inCA()\\n    ? caDefaultPreferences\\n    : inEU()\\n    ? euDefaultPreferences\\n    : undefined\\n\\n  return (\\n    <Pane>\\n      <ConsentManager\\n        writeKey=\\\"n2DAIaakJzCUq0saLY0LMcm9dKsqCZvU\\\"\\n        bannerContent={bannerContent}\\n        bannerSubContent={bannerSubContent}\\n        preferencesDialogTitle={preferencesDialogTitle}\\n        preferencesDialogContent={preferencesDialogContent}\\n        closeBehavior={closeBehavior}\\n        shouldRequireConsent={shouldRequireConsent}\\n        initialPreferences={initialPreferences}\\n      />\\n\\n      <Pane marginX={100} marginTop={20}>\\n        <Heading> Cute Cats </Heading>\\n        <Pane display=\\\"flex\\\">\\n          <iframe\\n            src=\\\"https://source.unsplash.com/random/500x600\\\"\\n            width=\\\"480\\\"\\n            height=\\\"480\\\"\\n            frameBorder=\\\"0\\\"\\n          />\\n\\n          <iframe\\n            src=\\\"https://source.unsplash.com/random/500x600\\\"\\n            width=\\\"398\\\"\\n            height=\\\"480\\\"\\n            frameBorder=\\\"0\\\"\\n          />\\n        </Pane>\\n        <Button onClick={() => window.analytics.track('Send Track Event Clicked')}>\\n          Send Track Event\\n        </Button>\\n\\n        <Paragraph marginTop={20}>\\n          This example highlights checking for EU or CA residency, then changing the closeBehavior\\n          based on membership in each.\\n        </Paragraph>\\n        <p>\\n          <div>\\n            <Heading>Current Preferences</Heading>\\n            <SyntaxHighlighter language=\\\"json\\\" style={docco}>\\n              {JSON.stringify(prefs, null, 2)}\\n            </SyntaxHighlighter>\\n          </div>\\n          <Button marginRight={20} onClick={openConsentManager}>\\n            Change Cookie Preferences\\n          </Button>\\n          <Button\\n            onClick={() => {\\n              cookies.remove('tracking-preferences')\\n              window.location.reload()\\n            }}\\n          >\\n            Clear\\n          </Button>\\n        </p>\\n      </Pane>\\n      <CookieView />\\n    </Pane>\\n  )\\n}\\n\\nstoriesOf('CCPA + GDPR Example', module).add(`Basic`, () => <ConsentManagerExample />)\\n\";\n// @ts-ignore\nvar __ADDS_MAP__ = {};\n// @ts-ignore\nvar __MAIN_FILE_LOCATION__ = \"/6-ccpa-gdpr-example.stories.tsx\";\n// @ts-ignore\nvar __MODULE_DEPENDENCIES__ = [];\n// @ts-ignore\nvar __LOCAL_DEPENDENCIES__ = {};\n// @ts-ignore\nvar __IDS_TO_FRAMEWORKS__ = {};\nimport React from 'react';\nimport cookies from 'js-cookie';\nimport { Pane, Heading, Paragraph, Button } from 'evergreen-ui';\nimport { ConsentManager, openConsentManager, loadPreferences, onPreferencesSaved } from '../src';\nimport { storiesOf } from '@storybook/react';\nimport { docco } from 'react-syntax-highlighter/dist/esm/styles/hljs';\nimport SyntaxHighlighter from 'react-syntax-highlighter';\nimport CookieView from './components/CookieView';\nimport inRegions from '@segment/in-regions';\nvar bannerContent = (React.createElement(\"span\", null,\n    \"We use cookies (and other similar technologies) to collect data to improve your experience on our site. By using our website, you\\u2019re agreeing to the collection of data as described in our\",\n    ' ',\n    React.createElement(\"a\", { href: \"https://segment.com/docs/legal/website-data-collection-policy/\", target: \"_blank\", rel: \"noopener noreferrer\" }, \"Website Data Collection Policy\"),\n    \".\"));\nvar bannerSubContent = 'You can manage your preferences here!';\nvar preferencesDialogTitle = 'Website Data Collection Preferences';\nvar preferencesDialogContent = (React.createElement(\"div\", null,\n    React.createElement(\"p\", null, \"Segment uses data collected by cookies and JavaScript libraries to improve your browsing experience, analyze site traffic, deliver personalized advertisements, and increase the overall performance of our site.\"),\n    React.createElement(\"p\", null,\n        \"By using our website, you\\u2019re agreeing to our\",\n        ' ',\n        React.createElement(\"a\", { href: \"https://segment.com/docs/legal/website-data-collection-policy/\", target: \"_blank\", rel: \"noopener noreferrer\" }, \"Website Data Collection Policy\"),\n        \".\"),\n    React.createElement(\"p\", null, \"The table below outlines how we use this data by category. To opt out of a category of data collection, select \\u201CNo\\u201D and save your preferences.\")));\nvar ConsentManagerExample = function () {\n    var _a = React.useState(loadPreferences()), prefs = _a[0], updatePrefs = _a[1];\n    var cleanup = onPreferencesSaved(function (preferences) {\n        updatePrefs(preferences);\n    });\n    React.useEffect(function () {\n        return function () {\n            cleanup();\n        };\n    });\n    var inCA = inRegions(['CA']);\n    var inEU = inRegions(['EU']);\n    var shouldRequireConsent = inRegions(['CA', 'EU']);\n    var caDefaultPreferences = {\n        advertising: false,\n        marketingAndAnalytics: true,\n        functional: true\n    };\n    var euDefaultPreferences = {\n        advertising: false,\n        marketingAndAnalytics: false,\n        functional: false\n    };\n    var closeBehavior = inCA()\n        ? function (_categories) { return caDefaultPreferences; }\n        : inEU()\n            ? \"deny\" /* DENY */\n            : \"accept\" /* ACCEPT */;\n    var initialPreferences = inCA()\n        ? caDefaultPreferences\n        : inEU()\n            ? euDefaultPreferences\n            : undefined;\n    return (React.createElement(Pane, null,\n        React.createElement(ConsentManager, { writeKey: \"n2DAIaakJzCUq0saLY0LMcm9dKsqCZvU\", bannerContent: bannerContent, bannerSubContent: bannerSubContent, preferencesDialogTitle: preferencesDialogTitle, preferencesDialogContent: preferencesDialogContent, closeBehavior: closeBehavior, shouldRequireConsent: shouldRequireConsent, initialPreferences: initialPreferences }),\n        React.createElement(Pane, { marginX: 100, marginTop: 20 },\n            React.createElement(Heading, null, \" Cute Cats \"),\n            React.createElement(Pane, { display: \"flex\" },\n                React.createElement(\"iframe\", { src: \"https://source.unsplash.com/random/500x600\", width: \"480\", height: \"480\", frameBorder: \"0\" }),\n                React.createElement(\"iframe\", { src: \"https://source.unsplash.com/random/500x600\", width: \"398\", height: \"480\", frameBorder: \"0\" })),\n            React.createElement(Button, { onClick: function () { return window.analytics.track('Send Track Event Clicked'); } }, \"Send Track Event\"),\n            React.createElement(Paragraph, { marginTop: 20 }, \"This example highlights checking for EU or CA residency, then changing the closeBehavior based on membership in each.\"),\n            React.createElement(\"p\", null,\n                React.createElement(\"div\", null,\n                    React.createElement(Heading, null, \"Current Preferences\"),\n                    React.createElement(SyntaxHighlighter, { language: \"json\", style: docco }, JSON.stringify(prefs, null, 2))),\n                React.createElement(Button, { marginRight: 20, onClick: openConsentManager }, \"Change Cookie Preferences\"),\n                React.createElement(Button, { onClick: function () {\n                        cookies.remove('tracking-preferences');\n                        window.location.reload();\n                    } }, \"Clear\"))),\n        React.createElement(CookieView, null)));\n};\nstoriesOf('CCPA + GDPR Example', module).addParameters({ storySource: { source: __STORY__, locationsMap: __ADDS_MAP__ } }).addDecorator(withSourceLoader(__STORY__, __ADDS_MAP__, __MAIN_FILE_LOCATION__, __MODULE_DEPENDENCIES__, __LOCAL_DEPENDENCIES__, __SOURCE_PREFIX__, __IDS_TO_FRAMEWORKS__)).add(\"Basic\", function () { return React.createElement(ConsentManagerExample, null); });\n","// @ts-ignore\nvar withSourceLoader = require('@storybook/source-loader/preview').withSource;\n// @ts-ignore\nvar __SOURCE_PREFIX__ = \"/home/guy/Dev/consent-manager/stories\";\n// @ts-ignore\nvar __STORY__ = \"import React from 'react'\\nimport { Pane, Heading, Paragraph, Button } from 'evergreen-ui'\\nimport { ConsentManager, openConsentManager, loadPreferences, onPreferencesSaved } from '../src'\\nimport { storiesOf } from '@storybook/react'\\nimport { docco } from 'react-syntax-highlighter/dist/esm/styles/hljs'\\nimport SyntaxHighlighter from 'react-syntax-highlighter'\\nimport { Preferences, DefaultDestinationBehavior } from '../src/types'\\nimport CookieView from './components/CookieView'\\nimport { CloseBehavior } from '../src/consent-manager/container'\\n\\nconst bannerContent = (\\n  <span>\\n    We use cookies (and other similar technologies) to collect data to improve your experience on\\n    our site. By using our website, you’re agreeing to the collection of data as described in our{' '}\\n    <a\\n      href=\\\"https://segment.com/docs/legal/website-data-collection-policy/\\\"\\n      target=\\\"_blank\\\"\\n      rel=\\\"noopener noreferrer\\\"\\n    >\\n      Website Data Collection Policy\\n    </a>\\n    .\\n  </span>\\n)\\nconst bannerSubContent = 'You can manage your preferences here!'\\nconst preferencesDialogTitle = 'Website Data Collection Preferences'\\nconst preferencesDialogContent = (\\n  <div>\\n    <p>\\n      Segment uses data collected by cookies and JavaScript libraries to improve your browsing\\n      experience, analyze site traffic, deliver personalized advertisements, and increase the\\n      overall performance of our site.\\n    </p>\\n    <p>\\n      By using our website, you’re agreeing to our{' '}\\n      <a\\n        href=\\\"https://segment.com/docs/legal/website-data-collection-policy/\\\"\\n        target=\\\"_blank\\\"\\n        rel=\\\"noopener noreferrer\\\"\\n      >\\n        Website Data Collection Policy\\n      </a>\\n      .\\n    </p>\\n    <p>\\n      The table below outlines how we use this data by category. To opt out of a category of data\\n      collection, select “No” and save your preferences.\\n    </p>\\n  </div>\\n)\\n\\nconst ConsentManagerExample = (props: {\\n  defaultDestinationBehavior: DefaultDestinationBehavior\\n}) => {\\n  const [prefs, updatePrefs] = React.useState<Preferences>(loadPreferences())\\n\\n  const cleanup = onPreferencesSaved(preferences => {\\n    updatePrefs(preferences)\\n  })\\n\\n  React.useEffect(() => {\\n    return () => {\\n      cleanup()\\n    }\\n  })\\n\\n  return (\\n    <Pane>\\n      <ConsentManager\\n        writeKey=\\\"VeSvGsFntmbyoQ3wh9FJphKGpPNW2paD\\\"\\n        otherWriteKeys={[]}\\n        bannerContent={bannerContent}\\n        bannerSubContent={bannerSubContent}\\n        preferencesDialogTitle={preferencesDialogTitle}\\n        preferencesDialogContent={preferencesDialogContent}\\n        closeBehavior={CloseBehavior.ACCEPT}\\n        defaultDestinationBehavior={props.defaultDestinationBehavior}\\n      />\\n\\n      <Pane marginX={100} marginTop={20}>\\n        <Heading> Cute Cats </Heading>\\n        <Pane display=\\\"flex\\\">\\n          <iframe\\n            src=\\\"https://source.unsplash.com/random/500x600\\\"\\n            width=\\\"480\\\"\\n            height=\\\"480\\\"\\n            frameBorder=\\\"0\\\"\\n          />\\n\\n          <iframe\\n            src=\\\"https://source.unsplash.com/random/500x600\\\"\\n            width=\\\"398\\\"\\n            height=\\\"480\\\"\\n            frameBorder=\\\"0\\\"\\n          />\\n        </Pane>\\n\\n        <Paragraph marginTop={20}>\\n          This example highlights default destination behavior. The cookie set is missing a\\n          destination that is enabled on the source, imitating a newly added destination. In the\\n          console, verify behavior by looking at analytics.options.\\n        </Paragraph>\\n        <p>\\n          <div>\\n            <Heading>Current Preferences</Heading>\\n            <SyntaxHighlighter language=\\\"json\\\" style={docco}>\\n              {JSON.stringify(prefs, null, 2)}\\n            </SyntaxHighlighter>\\n          </div>\\n          <Button marginRight={20} onClick={openConsentManager}>\\n            Change Cookie Preferences\\n          </Button>\\n          <Button\\n            onClick={() => {\\n              window.location.reload()\\n            }}\\n          >\\n            Reset Example\\n          </Button>\\n        </p>\\n      </Pane>\\n      <CookieView />\\n    </Pane>\\n  )\\n}\\n\\nstoriesOf('Default Destination Behavior', module).add(`disable`, () => (\\n  <ConsentManagerExample defaultDestinationBehavior=\\\"disable\\\" />\\n))\\nstoriesOf('Default Destination Behavior', module).add(`enable`, () => (\\n  <ConsentManagerExample defaultDestinationBehavior=\\\"enable\\\" />\\n))\\nstoriesOf('Default Destination Behavior', module).add(`imply`, () => (\\n  <ConsentManagerExample defaultDestinationBehavior=\\\"imply\\\" />\\n))\\nstoriesOf('Default Destination Behavior', module).add(`ask`, () => (\\n  <ConsentManagerExample defaultDestinationBehavior=\\\"ask\\\" />\\n))\\n\";\n// @ts-ignore\nvar __ADDS_MAP__ = {};\n// @ts-ignore\nvar __MAIN_FILE_LOCATION__ = \"/7-default-destination-behavior.stories.tsx\";\n// @ts-ignore\nvar __MODULE_DEPENDENCIES__ = [];\n// @ts-ignore\nvar __LOCAL_DEPENDENCIES__ = {};\n// @ts-ignore\nvar __IDS_TO_FRAMEWORKS__ = {};\nimport React from 'react';\nimport { Pane, Heading, Paragraph, Button } from 'evergreen-ui';\nimport { ConsentManager, openConsentManager, loadPreferences, onPreferencesSaved } from '../src';\nimport { storiesOf } from '@storybook/react';\nimport { docco } from 'react-syntax-highlighter/dist/esm/styles/hljs';\nimport SyntaxHighlighter from 'react-syntax-highlighter';\nimport CookieView from './components/CookieView';\nvar bannerContent = (React.createElement(\"span\", null,\n    \"We use cookies (and other similar technologies) to collect data to improve your experience on our site. By using our website, you\\u2019re agreeing to the collection of data as described in our\",\n    ' ',\n    React.createElement(\"a\", { href: \"https://segment.com/docs/legal/website-data-collection-policy/\", target: \"_blank\", rel: \"noopener noreferrer\" }, \"Website Data Collection Policy\"),\n    \".\"));\nvar bannerSubContent = 'You can manage your preferences here!';\nvar preferencesDialogTitle = 'Website Data Collection Preferences';\nvar preferencesDialogContent = (React.createElement(\"div\", null,\n    React.createElement(\"p\", null, \"Segment uses data collected by cookies and JavaScript libraries to improve your browsing experience, analyze site traffic, deliver personalized advertisements, and increase the overall performance of our site.\"),\n    React.createElement(\"p\", null,\n        \"By using our website, you\\u2019re agreeing to our\",\n        ' ',\n        React.createElement(\"a\", { href: \"https://segment.com/docs/legal/website-data-collection-policy/\", target: \"_blank\", rel: \"noopener noreferrer\" }, \"Website Data Collection Policy\"),\n        \".\"),\n    React.createElement(\"p\", null, \"The table below outlines how we use this data by category. To opt out of a category of data collection, select \\u201CNo\\u201D and save your preferences.\")));\nvar ConsentManagerExample = function (props) {\n    var _a = React.useState(loadPreferences()), prefs = _a[0], updatePrefs = _a[1];\n    var cleanup = onPreferencesSaved(function (preferences) {\n        updatePrefs(preferences);\n    });\n    React.useEffect(function () {\n        return function () {\n            cleanup();\n        };\n    });\n    return (React.createElement(Pane, null,\n        React.createElement(ConsentManager, { writeKey: \"VeSvGsFntmbyoQ3wh9FJphKGpPNW2paD\", otherWriteKeys: [], bannerContent: bannerContent, bannerSubContent: bannerSubContent, preferencesDialogTitle: preferencesDialogTitle, preferencesDialogContent: preferencesDialogContent, closeBehavior: \"accept\" /* ACCEPT */, defaultDestinationBehavior: props.defaultDestinationBehavior }),\n        React.createElement(Pane, { marginX: 100, marginTop: 20 },\n            React.createElement(Heading, null, \" Cute Cats \"),\n            React.createElement(Pane, { display: \"flex\" },\n                React.createElement(\"iframe\", { src: \"https://source.unsplash.com/random/500x600\", width: \"480\", height: \"480\", frameBorder: \"0\" }),\n                React.createElement(\"iframe\", { src: \"https://source.unsplash.com/random/500x600\", width: \"398\", height: \"480\", frameBorder: \"0\" })),\n            React.createElement(Paragraph, { marginTop: 20 }, \"This example highlights default destination behavior. The cookie set is missing a destination that is enabled on the source, imitating a newly added destination. In the console, verify behavior by looking at analytics.options.\"),\n            React.createElement(\"p\", null,\n                React.createElement(\"div\", null,\n                    React.createElement(Heading, null, \"Current Preferences\"),\n                    React.createElement(SyntaxHighlighter, { language: \"json\", style: docco }, JSON.stringify(prefs, null, 2))),\n                React.createElement(Button, { marginRight: 20, onClick: openConsentManager }, \"Change Cookie Preferences\"),\n                React.createElement(Button, { onClick: function () {\n                        window.location.reload();\n                    } }, \"Reset Example\"))),\n        React.createElement(CookieView, null)));\n};\nstoriesOf('Default Destination Behavior', module).addParameters({ storySource: { source: __STORY__, locationsMap: __ADDS_MAP__ } }).addDecorator(withSourceLoader(__STORY__, __ADDS_MAP__, __MAIN_FILE_LOCATION__, __MODULE_DEPENDENCIES__, __LOCAL_DEPENDENCIES__, __SOURCE_PREFIX__, __IDS_TO_FRAMEWORKS__)).add(\"disable\", function () { return (React.createElement(ConsentManagerExample, { defaultDestinationBehavior: \"disable\" })); });\nstoriesOf('Default Destination Behavior', module).addParameters({ storySource: { source: __STORY__, locationsMap: __ADDS_MAP__ } }).addDecorator(withSourceLoader(__STORY__, __ADDS_MAP__, __MAIN_FILE_LOCATION__, __MODULE_DEPENDENCIES__, __LOCAL_DEPENDENCIES__, __SOURCE_PREFIX__, __IDS_TO_FRAMEWORKS__)).add(\"enable\", function () { return (React.createElement(ConsentManagerExample, { defaultDestinationBehavior: \"enable\" })); });\nstoriesOf('Default Destination Behavior', module).addParameters({ storySource: { source: __STORY__, locationsMap: __ADDS_MAP__ } }).addDecorator(withSourceLoader(__STORY__, __ADDS_MAP__, __MAIN_FILE_LOCATION__, __MODULE_DEPENDENCIES__, __LOCAL_DEPENDENCIES__, __SOURCE_PREFIX__, __IDS_TO_FRAMEWORKS__)).add(\"imply\", function () { return (React.createElement(ConsentManagerExample, { defaultDestinationBehavior: \"imply\" })); });\nstoriesOf('Default Destination Behavior', module).addParameters({ storySource: { source: __STORY__, locationsMap: __ADDS_MAP__ } }).addDecorator(withSourceLoader(__STORY__, __ADDS_MAP__, __MAIN_FILE_LOCATION__, __MODULE_DEPENDENCIES__, __LOCAL_DEPENDENCIES__, __SOURCE_PREFIX__, __IDS_TO_FRAMEWORKS__)).add(\"ask\", function () { return (React.createElement(ConsentManagerExample, { defaultDestinationBehavior: \"ask\" })); });\n","import React, { useEffect, useState } from 'react';\nimport { Pane, Heading, Button } from 'evergreen-ui';\nimport cookies from 'js-cookie';\nimport { docco } from 'react-syntax-highlighter/dist/esm/styles/hljs';\nimport SyntaxHighlighter from 'react-syntax-highlighter';\nvar CookieView = function () {\n    var _a = useState(cookies.getJSON()), cookieVal = _a[0], updateCookieVal = _a[1];\n    useEffect(function () {\n        var clear = setInterval(function () {\n            updateCookieVal(cookies.getJSON());\n        }, 1000);\n        return function () { return clearInterval(clear); };\n    });\n    return (React.createElement(Pane, { marginTop: 30 },\n        React.createElement(Heading, null, \"Cookies:\"),\n        React.createElement(SyntaxHighlighter, { language: \"json\", style: docco }, JSON.stringify(cookieVal, null, 2)),\n        React.createElement(Button, { onClick: function () {\n                var allCookies = cookies.getJSON();\n                Object.keys(allCookies).forEach(function (key) {\n                    cookies.remove(key);\n                });\n                window.location.reload();\n            } }, \"Clear \\uD83E\\uDDF9\\uD83C\\uDF6A\")));\n};\nexport default CookieView;\n","// TODO: remove duplicate cookie library from bundle\nimport cookies from 'js-cookie';\nimport topDomain from '@segment/top-domain';\nimport { EventEmitter } from 'events';\nvar COOKIE_KEY = 'tracking-preferences';\n// TODO: Make cookie expiration configurable\nvar COOKIE_EXPIRES = 365;\n// TODO: harden against invalid cookies\n// TODO: harden against different versions of cookies\nexport function loadPreferences() {\n    var preferences = cookies.getJSON(COOKIE_KEY);\n    if (!preferences) {\n        return {};\n    }\n    return {\n        destinationPreferences: preferences.destinations,\n        customPreferences: preferences.custom\n    };\n}\nexport var emitter = new EventEmitter();\n/**\n * Subscribes to consent preferences changing over time and returns\n * a cleanup function that can be invoked to remove the instantiated listener.\n *\n * @param listener a function to be invoked when ConsentPreferences are saved\n */\nexport function onPreferencesSaved(listener) {\n    emitter.on('preferencesSaved', listener);\n    return function () { return emitter.off('preferencesSaved', listener); };\n}\n/**\n * Subscribes to consent preferences changing over time and returns\n * a cleanup function that can be invoked to remove the instantiated listener.\n *\n * @param listener a function to be invoked when ConsentPreferences are saved\n */\nexport function onWillShowBanner(listener) {\n    emitter.on('willShowBanner', listener);\n    return function () { return emitter.off('willShowBanner', listener); };\n}\nexport function savePreferences(_a) {\n    var destinationPreferences = _a.destinationPreferences, customPreferences = _a.customPreferences, cookieDomain = _a.cookieDomain;\n    var wd = window;\n    if (wd.analytics) {\n        wd.analytics.identify({\n            destinationTrackingPreferences: destinationPreferences,\n            customTrackingPreferences: customPreferences\n        });\n    }\n    var domain = cookieDomain || topDomain(window.location.href);\n    var value = {\n        version: 1,\n        destinations: destinationPreferences,\n        custom: customPreferences\n    };\n    cookies.set(COOKIE_KEY, value, {\n        expires: COOKIE_EXPIRES,\n        domain: domain\n    });\n    emitter.emit('preferencesSaved', {\n        destinationPreferences: destinationPreferences,\n        customPreferences: customPreferences\n    });\n}\n","var __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nimport React, { PureComponent } from 'react';\nimport ConsentManagerBuilder from '../consent-manager-builder';\nimport Container from './container';\nimport { ADVERTISING_CATEGORIES, FUNCTIONAL_CATEGORIES } from './categories';\nvar zeroValuePreferences = {\n    marketingAndAnalytics: null,\n    advertising: null,\n    functional: null\n};\nvar ConsentManager = /** @class */ (function (_super) {\n    __extends(ConsentManager, _super);\n    function ConsentManager() {\n        var _this = _super !== null && _super.apply(this, arguments) || this;\n        _this.getInitialPreferences = function () {\n            var _a = _this.props, initialPreferences = _a.initialPreferences, customCategories = _a.customCategories;\n            if (initialPreferences) {\n                return initialPreferences;\n            }\n            if (!customCategories) {\n                return zeroValuePreferences;\n            }\n            var initialCustomPreferences = {};\n            Object.keys(customCategories).forEach(function (category) {\n                initialCustomPreferences[category] = null;\n            });\n            return initialCustomPreferences;\n        };\n        _this.handleMapCustomPreferences = function (destinations, preferences) {\n            var customCategories = _this.props.customCategories;\n            var destinationPreferences = {};\n            var customPreferences = {};\n            if (customCategories) {\n                for (var _i = 0, _a = Object.keys(customCategories); _i < _a.length; _i++) {\n                    var preferenceName = _a[_i];\n                    var value = preferences[preferenceName];\n                    if (typeof value === 'boolean') {\n                        customPreferences[preferenceName] = value;\n                    }\n                    else {\n                        customPreferences[preferenceName] = true;\n                    }\n                }\n                destinations.forEach(function (destination) {\n                    // Mark custom categories\n                    Object.entries(customCategories).forEach(function (_a) {\n                        var categoryName = _a[0], integrations = _a[1].integrations;\n                        var consentAlreadySetToFalse = destinationPreferences[destination.id] === false;\n                        var shouldSetConsent = integrations.includes(destination.id);\n                        if (shouldSetConsent && !consentAlreadySetToFalse) {\n                            destinationPreferences[destination.id] = customPreferences[categoryName];\n                        }\n                    });\n                });\n                return { destinationPreferences: destinationPreferences, customPreferences: customPreferences };\n            }\n            // Default unset preferences to true (for implicit consent)\n            for (var _b = 0, _c = Object.keys(preferences); _b < _c.length; _b++) {\n                var preferenceName = _c[_b];\n                var value = preferences[preferenceName];\n                if (typeof value === 'boolean') {\n                    customPreferences[preferenceName] = value;\n                }\n                else {\n                    customPreferences[preferenceName] = true;\n                }\n            }\n            var customPrefs = customPreferences;\n            var _loop_1 = function (destination) {\n                // Mark advertising destinations\n                if (ADVERTISING_CATEGORIES.find(function (c) { return c === destination.category; }) &&\n                    destinationPreferences[destination.id] !== false) {\n                    destinationPreferences[destination.id] = customPrefs.advertising;\n                }\n                // Mark function destinations\n                if (FUNCTIONAL_CATEGORIES.find(function (c) { return c === destination.category; }) &&\n                    destinationPreferences[destination.id] !== false) {\n                    destinationPreferences[destination.id] = customPrefs.functional;\n                }\n                // Fallback to marketing\n                if (!(destination.id in destinationPreferences)) {\n                    destinationPreferences[destination.id] = customPrefs.marketingAndAnalytics;\n                }\n            };\n            for (var _d = 0, destinations_1 = destinations; _d < destinations_1.length; _d++) {\n                var destination = destinations_1[_d];\n                _loop_1(destination);\n            }\n            return { destinationPreferences: destinationPreferences, customPreferences: customPreferences };\n        };\n        return _this;\n    }\n    ConsentManager.prototype.render = function () {\n        var _this = this;\n        var _a = this.props, writeKey = _a.writeKey, otherWriteKeys = _a.otherWriteKeys, shouldRequireConsent = _a.shouldRequireConsent, implyConsentOnInteraction = _a.implyConsentOnInteraction, cookieDomain = _a.cookieDomain, bannerContent = _a.bannerContent, bannerSubContent = _a.bannerSubContent, bannerTextColor = _a.bannerTextColor, bannerBackgroundColor = _a.bannerBackgroundColor, preferencesDialogTitle = _a.preferencesDialogTitle, preferencesDialogContent = _a.preferencesDialogContent, customCategories = _a.customCategories, defaultDestinationBehavior = _a.defaultDestinationBehavior, cdnHost = _a.cdnHost, showRejectAll = _a.showRejectAll, onError = _a.onError;\n        return (React.createElement(ConsentManagerBuilder, { onError: onError, writeKey: writeKey, otherWriteKeys: otherWriteKeys, shouldRequireConsent: shouldRequireConsent, cookieDomain: cookieDomain, initialPreferences: this.getInitialPreferences(), mapCustomPreferences: this.handleMapCustomPreferences, customCategories: customCategories, defaultDestinationBehavior: defaultDestinationBehavior, cdnHost: cdnHost }, function (_a) {\n            var destinations = _a.destinations, customCategories = _a.customCategories, newDestinations = _a.newDestinations, preferences = _a.preferences, isConsentRequired = _a.isConsentRequired, setPreferences = _a.setPreferences, resetPreferences = _a.resetPreferences, saveConsent = _a.saveConsent, havePreferencesChanged = _a.havePreferencesChanged, workspaceAddedNewDestinations = _a.workspaceAddedNewDestinations;\n            return (React.createElement(Container, { customCategories: customCategories, destinations: destinations, newDestinations: newDestinations, preferences: preferences, isConsentRequired: isConsentRequired, setPreferences: setPreferences, resetPreferences: resetPreferences, saveConsent: saveConsent, closeBehavior: _this.props.closeBehavior, implyConsentOnInteraction: (implyConsentOnInteraction !== null && implyConsentOnInteraction !== void 0 ? implyConsentOnInteraction : ConsentManager.defaultProps.implyConsentOnInteraction), bannerContent: bannerContent, bannerSubContent: bannerSubContent, bannerTextColor: bannerTextColor || ConsentManager.defaultProps.bannerTextColor, bannerBackgroundColor: bannerBackgroundColor || ConsentManager.defaultProps.bannerBackgroundColor, showRejectAll: showRejectAll, preferencesDialogTitle: preferencesDialogTitle, preferencesDialogContent: preferencesDialogContent, havePreferencesChanged: havePreferencesChanged, defaultDestinationBehavior: defaultDestinationBehavior, workspaceAddedNewDestinations: workspaceAddedNewDestinations }));\n        }));\n    };\n    ConsentManager.displayName = 'ConsentManager';\n    ConsentManager.defaultProps = {\n        otherWriteKeys: [],\n        shouldRequireConsent: function () { return true; },\n        implyConsentOnInteraction: false,\n        onError: undefined,\n        cookieDomain: undefined,\n        customCategories: undefined,\n        bannerTextColor: '#000',\n        bannerSubContent: 'You can change your preferences at any time.',\n        bannerBackgroundColor: '#fff',\n        preferencesDialogTitle: 'Website Data Collection Preferences',\n        defaultDestinationBehavior: 'disable',\n        showRejectAll: false\n    };\n    return ConsentManager;\n}(PureComponent));\nexport default ConsentManager;\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport { Li, Text, Link, Checkbox, Card } from 'evergreen-ui';\nexport default function Destination(_a) {\n    var destination = _a.destination, preferences = _a.preferences, setPreferences = _a.setPreferences;\n    return (React.createElement(Li, { maxWidth: 280, marginRight: 20 },\n        React.createElement(Card, { elevation: 1, padding: 20, paddingTop: 8 },\n            React.createElement(Checkbox, { label: React.createElement(Link, { href: destination.website, target: \"_blank\" }, destination.name), checked: Boolean(preferences[destination.id]), onChange: function () {\n                    var _a;\n                    return setPreferences((_a = {},\n                        _a[destination.id] = !preferences[destination.id],\n                        _a));\n                } }),\n            React.createElement(Text, { display: \"block\", size: 300 }, destination.description))));\n}\nDestination.propTypes = {\n    destination: PropTypes.object.isRequired,\n    preferences: PropTypes.object.isRequired,\n    setPreferences: PropTypes.func.isRequired\n};\n","var __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\n    return new (P || (P = Promise))(function (resolve, reject) {\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\n    });\n};\nvar __generator = (this && this.__generator) || function (thisArg, body) {\n    var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g;\n    return g = { next: verb(0), \"throw\": verb(1), \"return\": verb(2) }, typeof Symbol === \"function\" && (g[Symbol.iterator] = function() { return this; }), g;\n    function verb(n) { return function (v) { return step([n, v]); }; }\n    function step(op) {\n        if (f) throw new TypeError(\"Generator is already executing.\");\n        while (_) try {\n            if (f = 1, y && (t = op[0] & 2 ? y[\"return\"] : op[0] ? y[\"throw\"] || ((t = y[\"return\"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;\n            if (y = 0, t) op = [op[0] & 2, t.value];\n            switch (op[0]) {\n                case 0: case 1: t = op; break;\n                case 4: _.label++; return { value: op[1], done: false };\n                case 5: _.label++; y = op[1]; op = [0]; continue;\n                case 7: op = _.ops.pop(); _.trys.pop(); continue;\n                default:\n                    if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }\n                    if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }\n                    if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }\n                    if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }\n                    if (t[2]) _.ops.pop();\n                    _.trys.pop(); continue;\n            }\n            op = body.call(thisArg, _);\n        } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }\n        if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };\n    }\n};\nimport fetch from 'isomorphic-fetch';\nimport { flatten, sortedUniqBy, sortBy } from 'lodash';\nfunction fetchDestinationForWriteKey(cdnHost, writeKey) {\n    return __awaiter(this, void 0, void 0, function () {\n        var res, destinations, _i, destinations_1, destination;\n        return __generator(this, function (_a) {\n            switch (_a.label) {\n                case 0: return [4 /*yield*/, fetch(\"https://\" + cdnHost + \"/v1/projects/\" + writeKey + \"/integrations\")];\n                case 1:\n                    res = _a.sent();\n                    if (!res.ok) {\n                        throw new Error(\"Failed to fetch integrations for write key \" + writeKey + \": HTTP \" + res.status + \" \" + res.statusText);\n                    }\n                    return [4 /*yield*/, res.json()\n                        // Rename creationName to id to abstract the weird data model\n                    ];\n                case 2:\n                    destinations = _a.sent();\n                    // Rename creationName to id to abstract the weird data model\n                    for (_i = 0, destinations_1 = destinations; _i < destinations_1.length; _i++) {\n                        destination = destinations_1[_i];\n                        destination.id = destination.creationName;\n                        delete destination.creationName;\n                    }\n                    return [2 /*return*/, destinations];\n            }\n        });\n    });\n}\nexport default function fetchDestinations(cdnHost, writeKeys) {\n    return __awaiter(this, void 0, void 0, function () {\n        var destinationsRequests, _i, writeKeys_1, writeKey, destinations, _a;\n        return __generator(this, function (_b) {\n            switch (_b.label) {\n                case 0:\n                    destinationsRequests = [];\n                    for (_i = 0, writeKeys_1 = writeKeys; _i < writeKeys_1.length; _i++) {\n                        writeKey = writeKeys_1[_i];\n                        destinationsRequests.push(fetchDestinationForWriteKey(cdnHost, writeKey));\n                    }\n                    _a = flatten;\n                    return [4 /*yield*/, Promise.all(destinationsRequests)];\n                case 1:\n                    destinations = _a.apply(void 0, [_b.sent()]);\n                    // Remove the dummy Repeater destination\n                    destinations = destinations.filter(function (d) { return d.id !== 'Repeater'; });\n                    destinations = sortBy(destinations, ['id']);\n                    destinations = sortedUniqBy(destinations, 'id');\n                    return [2 /*return*/, destinations];\n            }\n        });\n    });\n}\n","function getConsentMiddleware(destinationPreferences, categoryPreferences, defaultDestinationBehavior) {\n    return function (_a) {\n        var payload = _a.payload, next = _a.next;\n        payload.obj.context.consent = {\n            defaultDestinationBehavior: defaultDestinationBehavior,\n            categoryPreferences: categoryPreferences,\n            destinationPreferences: destinationPreferences\n        };\n        next(payload);\n    };\n}\nexport default function conditionallyLoadAnalytics(_a) {\n    var writeKey = _a.writeKey, destinations = _a.destinations, destinationPreferences = _a.destinationPreferences, isConsentRequired = _a.isConsentRequired, _b = _a.shouldReload, shouldReload = _b === void 0 ? true : _b, defaultDestinationBehavior = _a.defaultDestinationBehavior, categoryPreferences = _a.categoryPreferences;\n    var wd = window;\n    var integrations = { All: false, 'Segment.io': true };\n    var isAnythingEnabled = false;\n    if (!destinationPreferences) {\n        if (isConsentRequired) {\n            return;\n        }\n        // Load a.js normally when consent isn't required and there's no preferences\n        if (!wd.analytics.initialized) {\n            wd.analytics.load(writeKey);\n        }\n        return;\n    }\n    for (var _i = 0, destinations_1 = destinations; _i < destinations_1.length; _i++) {\n        var destination = destinations_1[_i];\n        // Was a preference explicitly set on this destination?\n        var explicitPreference = destination.id in destinationPreferences;\n        if (!explicitPreference && defaultDestinationBehavior === 'enable') {\n            integrations[destination.id] = true;\n            continue;\n        }\n        var isEnabled = Boolean(destinationPreferences[destination.id]);\n        if (isEnabled) {\n            isAnythingEnabled = true;\n        }\n        integrations[destination.id] = isEnabled;\n    }\n    // Reload the page if the trackers have already been initialised so that\n    // the user's new preferences can take affect\n    if (wd.analytics && wd.analytics.initialized) {\n        if (shouldReload) {\n            window.location.reload();\n        }\n        return;\n    }\n    // Don't load a.js at all if nothing has been enabled\n    if (isAnythingEnabled) {\n        var middleware = getConsentMiddleware(destinationPreferences, categoryPreferences, defaultDestinationBehavior);\n        // @ts-ignore: Analytics.JS type should be updated with addSourceMiddleware\n        wd.analytics.addSourceMiddleware(middleware);\n        wd.analytics.load(writeKey, { integrations: integrations });\n    }\n}\n","var __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nvar __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nvar __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\n    return new (P || (P = Promise))(function (resolve, reject) {\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\n    });\n};\nvar __generator = (this && this.__generator) || function (thisArg, body) {\n    var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g;\n    return g = { next: verb(0), \"throw\": verb(1), \"return\": verb(2) }, typeof Symbol === \"function\" && (g[Symbol.iterator] = function() { return this; }), g;\n    function verb(n) { return function (v) { return step([n, v]); }; }\n    function step(op) {\n        if (f) throw new TypeError(\"Generator is already executing.\");\n        while (_) try {\n            if (f = 1, y && (t = op[0] & 2 ? y[\"return\"] : op[0] ? y[\"throw\"] || ((t = y[\"return\"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;\n            if (y = 0, t) op = [op[0] & 2, t.value];\n            switch (op[0]) {\n                case 0: case 1: t = op; break;\n                case 4: _.label++; return { value: op[1], done: false };\n                case 5: _.label++; y = op[1]; op = [0]; continue;\n                case 7: op = _.ops.pop(); _.trys.pop(); continue;\n                default:\n                    if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }\n                    if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }\n                    if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }\n                    if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }\n                    if (t[2]) _.ops.pop();\n                    _.trys.pop(); continue;\n            }\n            op = body.call(thisArg, _);\n        } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }\n        if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };\n    }\n};\nvar __spreadArrays = (this && this.__spreadArrays) || function () {\n    for (var s = 0, i = 0, il = arguments.length; i < il; i++) s += arguments[i].length;\n    for (var r = Array(s), k = 0, i = 0; i < il; i++)\n        for (var a = arguments[i], j = 0, jl = a.length; j < jl; j++, k++)\n            r[k] = a[j];\n    return r;\n};\nimport { Component } from 'react';\nimport { loadPreferences, savePreferences } from './preferences';\nimport fetchDestinations from './fetch-destinations';\nimport conditionallyLoadAnalytics from './analytics';\nfunction getNewDestinations(destinations, preferences) {\n    var newDestinations = [];\n    // If there are no preferences then all destinations are new\n    if (!preferences) {\n        return destinations;\n    }\n    for (var _i = 0, destinations_1 = destinations; _i < destinations_1.length; _i++) {\n        var destination = destinations_1[_i];\n        if (preferences[destination.id] === undefined) {\n            newDestinations.push(destination);\n        }\n    }\n    return newDestinations;\n}\nvar ConsentManagerBuilder = /** @class */ (function (_super) {\n    __extends(ConsentManagerBuilder, _super);\n    function ConsentManagerBuilder() {\n        var _this = _super !== null && _super.apply(this, arguments) || this;\n        _this.state = {\n            isLoading: true,\n            destinations: [],\n            newDestinations: [],\n            preferences: {},\n            destinationPreferences: {},\n            isConsentRequired: true,\n            havePreferencesChanged: false,\n            workspaceAddedNewDestinations: false\n        };\n        _this.initialise = function () { return __awaiter(_this, void 0, void 0, function () {\n            var _a, writeKey, _b, otherWriteKeys, _c, shouldRequireConsent, initialPreferences, mapCustomPreferences, defaultDestinationBehavior, cookieDomain, _d, cdnHost, _e, destinationPreferences, customPreferences, _f, isConsentRequired, destinations, newDestinations, workspaceAddedNewDestinations, preferences, hasInitialPreferenceToTrue, emptyCustomPreferecences, mapped;\n            return __generator(this, function (_g) {\n                switch (_g.label) {\n                    case 0:\n                        _a = this.props, writeKey = _a.writeKey, _b = _a.otherWriteKeys, otherWriteKeys = _b === void 0 ? ConsentManagerBuilder.defaultProps.otherWriteKeys : _b, _c = _a.shouldRequireConsent, shouldRequireConsent = _c === void 0 ? ConsentManagerBuilder.defaultProps.shouldRequireConsent : _c, initialPreferences = _a.initialPreferences, mapCustomPreferences = _a.mapCustomPreferences, defaultDestinationBehavior = _a.defaultDestinationBehavior, cookieDomain = _a.cookieDomain, _d = _a.cdnHost, cdnHost = _d === void 0 ? ConsentManagerBuilder.defaultProps.cdnHost : _d;\n                        _e = loadPreferences(), destinationPreferences = _e.destinationPreferences, customPreferences = _e.customPreferences;\n                        return [4 /*yield*/, Promise.all([\n                                shouldRequireConsent(),\n                                fetchDestinations(cdnHost, __spreadArrays([writeKey], otherWriteKeys))\n                            ])];\n                    case 1:\n                        _f = _g.sent(), isConsentRequired = _f[0], destinations = _f[1];\n                        newDestinations = getNewDestinations(destinations, destinationPreferences || {});\n                        workspaceAddedNewDestinations = destinationPreferences &&\n                            Object.keys(destinationPreferences).length > 0 &&\n                            newDestinations.length > 0;\n                        if (mapCustomPreferences) {\n                            preferences = customPreferences || initialPreferences || {};\n                            hasInitialPreferenceToTrue = Object.values(initialPreferences || {}).some(Boolean);\n                            emptyCustomPreferecences = Object.values(customPreferences || {}).every(function (v) { return v === null || v === undefined; });\n                            if ((hasInitialPreferenceToTrue && emptyCustomPreferecences) ||\n                                (defaultDestinationBehavior === 'imply' && workspaceAddedNewDestinations)) {\n                                mapped = mapCustomPreferences(destinations, preferences);\n                                destinationPreferences = mapped.destinationPreferences;\n                                customPreferences = mapped.customPreferences;\n                                savePreferences({ destinationPreferences: destinationPreferences, customPreferences: customPreferences, cookieDomain: cookieDomain });\n                            }\n                        }\n                        else {\n                            preferences = destinationPreferences || initialPreferences;\n                        }\n                        conditionallyLoadAnalytics({\n                            writeKey: writeKey,\n                            destinations: destinations,\n                            destinationPreferences: destinationPreferences,\n                            isConsentRequired: isConsentRequired,\n                            defaultDestinationBehavior: defaultDestinationBehavior,\n                            categoryPreferences: preferences\n                        });\n                        this.setState({\n                            isLoading: false,\n                            destinations: destinations,\n                            newDestinations: newDestinations,\n                            preferences: preferences,\n                            isConsentRequired: isConsentRequired,\n                            destinationPreferences: destinationPreferences,\n                            workspaceAddedNewDestinations: Boolean(workspaceAddedNewDestinations)\n                        });\n                        return [2 /*return*/];\n                }\n            });\n        }); };\n        _this.handleSetPreferences = function (newPreferences) {\n            _this.setState(function (prevState) {\n                var destinations = prevState.destinations, existingPreferences = prevState.preferences;\n                var preferences = _this.mergePreferences({\n                    destinations: destinations,\n                    newPreferences: newPreferences,\n                    existingPreferences: existingPreferences\n                });\n                return __assign(__assign({}, prevState), { preferences: preferences, havePreferencesChanged: true });\n            });\n        };\n        _this.handleResetPreferences = function () {\n            var _a = _this.props, initialPreferences = _a.initialPreferences, mapCustomPreferences = _a.mapCustomPreferences;\n            var _b = loadPreferences(), destinationPreferences = _b.destinationPreferences, customPreferences = _b.customPreferences;\n            var preferences;\n            if (mapCustomPreferences) {\n                preferences = customPreferences || initialPreferences;\n            }\n            else {\n                preferences = destinationPreferences || initialPreferences;\n            }\n            _this.setState({ preferences: preferences });\n        };\n        _this.handleSaveConsent = function (newPreferences, shouldReload) {\n            var _a = _this.props, writeKey = _a.writeKey, cookieDomain = _a.cookieDomain, mapCustomPreferences = _a.mapCustomPreferences, defaultDestinationBehavior = _a.defaultDestinationBehavior;\n            _this.setState(function (prevState) {\n                var destinations = prevState.destinations, existingPreferences = prevState.preferences, isConsentRequired = prevState.isConsentRequired;\n                var preferences = _this.mergePreferences({\n                    destinations: destinations,\n                    newPreferences: newPreferences,\n                    existingPreferences: existingPreferences\n                });\n                var destinationPreferences;\n                var customPreferences;\n                if (mapCustomPreferences) {\n                    var custom = mapCustomPreferences(destinations, preferences);\n                    destinationPreferences = custom.destinationPreferences;\n                    customPreferences = custom.customPreferences;\n                    if (customPreferences) {\n                        // Allow the customPreferences to be updated from mapCustomPreferences\n                        preferences = customPreferences;\n                    }\n                    else {\n                        // Make returning the customPreferences from mapCustomPreferences optional\n                        customPreferences = preferences;\n                    }\n                }\n                else {\n                    destinationPreferences = preferences;\n                }\n                var newDestinations = getNewDestinations(destinations, destinationPreferences);\n                // If preferences haven't changed, don't reload the page as it's a disruptive experience for end-users\n                if (prevState.havePreferencesChanged || newDestinations.length > 0) {\n                    savePreferences({ destinationPreferences: destinationPreferences, customPreferences: customPreferences, cookieDomain: cookieDomain });\n                    conditionallyLoadAnalytics({\n                        writeKey: writeKey,\n                        destinations: destinations,\n                        destinationPreferences: destinationPreferences,\n                        isConsentRequired: isConsentRequired,\n                        shouldReload: shouldReload,\n                        defaultDestinationBehavior: defaultDestinationBehavior,\n                        categoryPreferences: customPreferences\n                    });\n                }\n                return __assign(__assign({}, prevState), { destinationPreferences: destinationPreferences, preferences: preferences, newDestinations: newDestinations });\n            });\n        };\n        _this.mergePreferences = function (args) {\n            var destinations = args.destinations, existingPreferences = args.existingPreferences, newPreferences = args.newPreferences;\n            var preferences;\n            if (typeof newPreferences === 'boolean') {\n                var destinationPreferences = {};\n                for (var _i = 0, destinations_2 = destinations; _i < destinations_2.length; _i++) {\n                    var destination = destinations_2[_i];\n                    destinationPreferences[destination.id] = newPreferences;\n                }\n                preferences = destinationPreferences;\n            }\n            else if (newPreferences) {\n                preferences = __assign(__assign({}, existingPreferences), newPreferences);\n            }\n            else {\n                preferences = existingPreferences;\n            }\n            return preferences;\n        };\n        return _this;\n    }\n    ConsentManagerBuilder.prototype.render = function () {\n        var _a = this.props, children = _a.children, customCategories = _a.customCategories;\n        var _b = this.state, isLoading = _b.isLoading, destinations = _b.destinations, preferences = _b.preferences, newDestinations = _b.newDestinations, isConsentRequired = _b.isConsentRequired, havePreferencesChanged = _b.havePreferencesChanged, workspaceAddedNewDestinations = _b.workspaceAddedNewDestinations, destinationPreferences = _b.destinationPreferences;\n        if (isLoading) {\n            return null;\n        }\n        return children({\n            destinations: destinations,\n            customCategories: customCategories,\n            newDestinations: newDestinations,\n            preferences: preferences,\n            isConsentRequired: isConsentRequired,\n            havePreferencesChanged: havePreferencesChanged,\n            workspaceAddedNewDestinations: workspaceAddedNewDestinations,\n            destinationPreferences: destinationPreferences,\n            setPreferences: this.handleSetPreferences,\n            resetPreferences: this.handleResetPreferences,\n            saveConsent: this.handleSaveConsent\n        });\n    };\n    ConsentManagerBuilder.prototype.componentDidMount = function () {\n        return __awaiter(this, void 0, void 0, function () {\n            var onError, e_1;\n            return __generator(this, function (_a) {\n                switch (_a.label) {\n                    case 0:\n                        onError = this.props.onError;\n                        if (!(onError && typeof onError === 'function')) return [3 /*break*/, 6];\n                        _a.label = 1;\n                    case 1:\n                        _a.trys.push([1, 3, , 5]);\n                        return [4 /*yield*/, this.initialise()];\n                    case 2:\n                        _a.sent();\n                        return [3 /*break*/, 5];\n                    case 3:\n                        e_1 = _a.sent();\n                        return [4 /*yield*/, onError(e_1)];\n                    case 4:\n                        _a.sent();\n                        return [3 /*break*/, 5];\n                    case 5: return [3 /*break*/, 8];\n                    case 6: return [4 /*yield*/, this.initialise()];\n                    case 7:\n                        _a.sent();\n                        _a.label = 8;\n                    case 8: return [2 /*return*/];\n                }\n            });\n        });\n    };\n    ConsentManagerBuilder.displayName = 'ConsentManagerBuilder';\n    ConsentManagerBuilder.defaultProps = {\n        otherWriteKeys: [],\n        onError: undefined,\n        shouldRequireConsent: function () { return true; },\n        initialPreferences: {},\n        cdnHost: 'cdn.segment.com'\n    };\n    return ConsentManagerBuilder;\n}(Component));\nexport default ConsentManagerBuilder;\n","import CMB from './consent-manager-builder';\nimport CM from './consent-manager';\nexport { openDialog as openConsentManager } from './consent-manager/container';\nexport { loadPreferences, savePreferences, onPreferencesSaved } from './consent-manager-builder/preferences';\nexport var ConsentManagerBuilder = CMB;\nexport var ConsentManager = CM;\nexport function doNotTrack() {\n    if (typeof window !== 'undefined' && (window.navigator || navigator)) {\n        var nav = navigator;\n        var doNotTrackValue = nav.doNotTrack || window.doNotTrack || nav.msDoNotTrack;\n        // Normalise Firefox < 32\n        // https://developer.mozilla.org/en-US/docs/Web/API/Navigator/doNotTrack\n        if (doNotTrackValue === 'yes') {\n            doNotTrackValue = '1';\n        }\n        else if (doNotTrackValue === 'no') {\n            doNotTrackValue = '0';\n        }\n        if (doNotTrackValue === '1') {\n            return true;\n        }\n        if (doNotTrackValue === '0') {\n            return false;\n        }\n    }\n    return null;\n}\n","export default \"<html lang=\\\"en\\\">\\n  <body>\\n    <script type=\\\"application/javascript\\\">\\n      window.consentManagerConfig = function(exports) {\\n        exports.preferences.onPreferencesSaved(function(prefs) {\\n          // could be used to store consent server side, or send it into an API\\n        })\\n\\n        return {\\n          container: '#consent-manager',\\n          writeKey: 'n2DAIaakJzCUq0saLY0LMcm9dKsqCZvU',\\n          /* initialPreferences allows for customizing which categories already pre-loaded */\\n          initialPreferences: {\\n            marketingAndAnalytics: false,\\n            // functional: true will automatically record consent for functional cookies\\n            functional: true\\n          },\\n          /*\\n      The consent manager ships with a lightweight version of \\n      React (preact) that you can use to customize the consent manager further\\n    */\\n          bannerContent: exports.React.createElement('span', null, '🍪We like cookies 🍪'),\\n          bannerSubContent: 'Change your preferences 👻',\\n          preferencesDialogTitle: 'Website Data Collection',\\n          preferencesDialogContent: 'We use data collected by cookies and JavaScript libraries.'\\n        }\\n      }\\n    </script>\\n\\n    <div id=\\\"consent-manager\\\"></div>\\n\\n    <div>\\n      <img src=\\\"http://giphygifs.s3.amazonaws.com/media/13HBDT4QSTpveU/giphy.gif\\\" />\\n    </div>\\n\\n    <button\\n      type=\\\"button\\\"\\n      onclick=\\\"event.stopPropagation(); window.consentManager.openConsentManager()\\\"\\n    >\\n      Data Collection and Cookie Preferences\\n    </button>\\n\\n    <script src=\\\"./standalone/consent-manager.js\\\" defer></script>\\n\\n    <!-- Load analytics.js -->\\n    <script>\\n      !(function() {\\n        var analytics = (window.analytics = window.analytics || [])\\n        if (!analytics.initialize)\\n          if (analytics.invoked)\\n            window.console && console.error && console.error('Segment snippet included twice.')\\n          else {\\n            analytics.invoked = !0\\n            analytics.methods = [\\n              'trackSubmit',\\n              'trackClick',\\n              'trackLink',\\n              'trackForm',\\n              'pageview',\\n              'identify',\\n              'reset',\\n              'group',\\n              'track',\\n              'ready',\\n              'alias',\\n              'debug',\\n              'page',\\n              'once',\\n              'off',\\n              'on',\\n              'addSourceMiddleware'\\n            ]\\n            analytics.factory = function(t) {\\n              return function() {\\n                var e = Array.prototype.slice.call(arguments)\\n                e.unshift(t)\\n                analytics.push(e)\\n                return analytics\\n              }\\n            }\\n            for (var t = 0; t < analytics.methods.length; t++) {\\n              var e = analytics.methods[t]\\n              analytics[e] = analytics.factory(e)\\n            }\\n            analytics.load = function(t, e) {\\n              var n = document.createElement('script')\\n              n.type = 'text/javascript'\\n              n.async = !0\\n              n.src =\\n                ('https:' === document.location.protocol ? 'https://' : 'http://') +\\n                'cdn.segment.com/analytics.js/v1/' +\\n                t +\\n                '/analytics.min.js'\\n              var o = document.getElementsByTagName('script')[0]\\n              o.parentNode.insertBefore(n, o)\\n              analytics._loadOptions = e\\n            }\\n            analytics.SNIPPET_VERSION = '4.1.0'\\n            analytics.page()\\n          }\\n      })()\\n    </script>\\n  </body>\\n</html>\\n\"","import React from 'react';\nimport cookies from 'js-cookie';\nimport { Pane, Heading, Button, Paragraph } from 'evergreen-ui';\nimport { ConsentManager, openConsentManager } from '../src';\nimport { bannerContent, bannerSubContent, preferencesDialogContent, preferencesDialogTitle } from './components/common-react';\nexport var ImplyConsentOnInteraction = function () {\n    return (React.createElement(Pane, null,\n        React.createElement(ConsentManager, { writeKey: \"tYQQPcY78Hc3T1hXUYk0n4xcbEHnN7r0\", otherWriteKeys: ['vMRS7xbsjH97Bb2PeKbEKvYDvgMm5T3l'], bannerContent: bannerContent, bannerSubContent: bannerSubContent, preferencesDialogTitle: preferencesDialogTitle, preferencesDialogContent: preferencesDialogContent, implyConsentOnInteraction: true }),\n        React.createElement(Pane, { marginX: 100, marginTop: 20 },\n            React.createElement(Heading, null, \" Your website content \"),\n            React.createElement(Paragraph, null, \"Clicking anywhere on this page will cause the Consent Manager to imply consent.\"),\n            React.createElement(Pane, { display: \"flex\" },\n                React.createElement(\"iframe\", { src: \"https://source.unsplash.com/random/500x600\", width: \"398\", height: \"480\", frameBorder: \"0\" })),\n            React.createElement(\"div\", null,\n                React.createElement(Button, { onClick: openConsentManager }, \"Data Collection and Cookie Preferences\")),\n            React.createElement(\"div\", null,\n                React.createElement(Heading, null, \"to see the banner again:\"),\n                React.createElement(Button, { onClick: function () {\n                        cookies.remove('tracking-preferences');\n                        window.location.reload();\n                    } }, \"Clear tracking preferences cookie\")))));\n};\n","export default \"<html lang=\\\"en\\\">\\n  <head>\\n    <link\\n      href=\\\"https://fonts.googleapis.com/css2?family=Domine:wght@400;700&amp;family=Rubik:ital,wght@0,300;0,400;0,700;0,900;1,300;1,400;1,700;1,900&amp;display=swap\\\"\\n      rel=\\\"stylesheet\\\"\\n    />\\n    <link\\n      rel=\\\"stylesheet\\\"\\n      type=\\\"text/css\\\"\\n      href=\\\"https://lagrave.muchbetteradventures.com/seekr2/css/style.css\\\"\\n    />\\n  </head>\\n\\n  <body>\\n    <div id=\\\"consent-manager\\\"></div>\\n    <img src=\\\"https://source.unsplash.com/random/300x300\\\" />\\n\\n    <button\\n      type=\\\"button\\\"\\n      onclick=\\\"event.stopPropagation(); window.consentManager.openConsentManager()\\\"\\n    >\\n      Data Collection and Cookie Preferences\\n    </button>\\n\\n    <script type=\\\"application/javascript\\\">\\n      window.consentManagerConfig = function(exports) {\\n        return {\\n          container: '#consent-manager',\\n          writeKey: 'tYQQPcY78Hc3T1hXUYk0n4xcbEHnN7r0',\\n          bannerContent:\\n            'We use cookies (and other similar technologies) to collect data to improve your experience on our site.',\\n          bannerSubContent: 'You can change your preferences at any time.',\\n          preferencesDialogTitle: 'Website Data Collection Preferences',\\n          preferencesDialogContent:\\n            'We use data collected by cookies and JavaScript libraries to improve your browsing experience, analyze site traffic, deliver personalized advertisements, and increase the overall performance of our site.',\\n          closeBehavior: 'accept'\\n        }\\n      }\\n    </script>\\n\\n    <!-- Setup the Segment Consent Manager tag -->\\n    <script src=\\\"./standalone/consent-manager.js\\\" defer></script>\\n\\n    <!-- Load analytics.js -->\\n    <script>\\n      !(function() {\\n        var analytics = (window.analytics = window.analytics || [])\\n        if (!analytics.initialize)\\n          if (analytics.invoked)\\n            window.console && console.error && console.error('Segment snippet included twice.')\\n          else {\\n            analytics.invoked = !0\\n            analytics.methods = [\\n              'trackSubmit',\\n              'trackClick',\\n              'trackLink',\\n              'trackForm',\\n              'pageview',\\n              'identify',\\n              'reset',\\n              'group',\\n              'track',\\n              'ready',\\n              'alias',\\n              'debug',\\n              'page',\\n              'once',\\n              'off',\\n              'on',\\n              'addSourceMiddleware'\\n            ]\\n            analytics.factory = function(t) {\\n              return function() {\\n                var e = Array.prototype.slice.call(arguments)\\n                e.unshift(t)\\n                analytics.push(e)\\n                return analytics\\n              }\\n            }\\n            for (var t = 0; t < analytics.methods.length; t++) {\\n              var e = analytics.methods[t]\\n              analytics[e] = analytics.factory(e)\\n            }\\n            analytics.load = function(t, e) {\\n              var n = document.createElement('script')\\n              n.type = 'text/javascript'\\n              n.async = !0\\n              n.src =\\n                ('https:' === document.location.protocol ? 'https://' : 'http://') +\\n                'cdn.segment.com/analytics.js/v1/' +\\n                t +\\n                '/analytics.min.js'\\n              var o = document.getElementsByTagName('script')[0]\\n              o.parentNode.insertBefore(n, o)\\n              analytics._loadOptions = e\\n            }\\n            analytics.SNIPPET_VERSION = '4.1.0'\\n            analytics.page()\\n          }\\n      })()\\n    </script>\\n  </body>\\n</html>\\n\"","var __makeTemplateObject = (this && this.__makeTemplateObject) || function (cooked, raw) {\n    if (Object.defineProperty) { Object.defineProperty(cooked, \"raw\", { value: raw }); } else { cooked.raw = raw; }\n    return cooked;\n};\nimport { css } from 'react-emotion';\nexport default css(templateObject_1 || (templateObject_1 = __makeTemplateObject([\"\\n  font-family: Rubik, system-ui, -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Ubuntu,\\n    'Helvetica Neue', Oxygen, Cantarell, sans-serif;\\n  -moz-osx-font-smoothing: grayscale;\\n  -webkit-font-smoothing: antialiased;\\n  font-smoothing: antialiased;\\n  font-size: 16px;\\n  font-weight: 400;\\n  line-height: 22px;\\n  letter-spacing: -0.05px;\\n\"], [\"\\n  font-family: Rubik, system-ui, -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Ubuntu,\\n    'Helvetica Neue', Oxygen, Cantarell, sans-serif;\\n  -moz-osx-font-smoothing: grayscale;\\n  -webkit-font-smoothing: antialiased;\\n  font-smoothing: antialiased;\\n  font-size: 16px;\\n  font-weight: 400;\\n  line-height: 22px;\\n  letter-spacing: -0.05px;\\n\"])));\nvar templateObject_1;\n","var __makeTemplateObject = (this && this.__makeTemplateObject) || function (cooked, raw) {\n    if (Object.defineProperty) { Object.defineProperty(cooked, \"raw\", { value: raw }); } else { cooked.raw = raw; }\n    return cooked;\n};\nimport styled, { css } from 'react-emotion';\nimport fontStyles from './font-styles';\nvar baseStyles = css(templateObject_1 || (templateObject_1 = __makeTemplateObject([\"\\n  \", \"\\n  border: none;\\n  border-radius: 4px;\\n  font-size: 12px;\\n  line-height: 1;\\n  cursor: pointer;\\n  outline: none;\\n  padding: 6px 16px;\\n  font-size: 14px;\\n  box-sizing: border-box;\\n  font-weight: 700;\\n  line-height: 1.75;\\n  border-radius: 4px;\\n  border: 0;\\n  text-transform: none;\\n  color: white;\\n  background-color: #98be42;\\n  margin-left: 4px;\\n\"], [\"\\n  \", \"\\n  border: none;\\n  border-radius: 4px;\\n  font-size: 12px;\\n  line-height: 1;\\n  cursor: pointer;\\n  outline: none;\\n  padding: 6px 16px;\\n  font-size: 14px;\\n  box-sizing: border-box;\\n  font-weight: 700;\\n  line-height: 1.75;\\n  border-radius: 4px;\\n  border: 0;\\n  text-transform: none;\\n  color: white;\\n  background-color: #98be42;\\n  margin-left: 4px;\\n\"])), fontStyles);\nexport var DefaultButton = styled('button')(templateObject_2 || (templateObject_2 = __makeTemplateObject([\"\\n  \", \";\\n  color: #428bca;\\n  border: 1px solid rgba(66, 139, 202, 0.5);\\n  background-color: #fff;\\n  margin-left: 4px;\\n\"], [\"\\n  \", \";\\n  color: #428bca;\\n  border: 1px solid rgba(66, 139, 202, 0.5);\\n  background-color: #fff;\\n  margin-left: 4px;\\n\"])), baseStyles);\nexport var TextButton = styled('button')(templateObject_3 || (templateObject_3 = __makeTemplateObject([\"\\n  \", \";\\n  color: #428bca;\\n  background-color: #fff;\\n  border: none;\\n  margin-left: 4px;\\n\"], [\"\\n  \", \";\\n  color: #428bca;\\n  background-color: #fff;\\n  border: none;\\n  margin-left: 4px;\\n\"])), baseStyles);\nexport var GreenButton = styled('button')(templateObject_4 || (templateObject_4 = __makeTemplateObject([\"\\n  \", \";\\n  background-color: #98be42;\\n  color: #fff;\\n\"], [\"\\n  \", \";\\n  background-color: #98be42;\\n  color: #fff;\\n\"])), baseStyles);\nexport var RedButton = styled('button')(templateObject_5 || (templateObject_5 = __makeTemplateObject([\"\\n  \", \";\\n  background-color: #98be42;\\n\"], [\"\\n  \", \";\\n  background-color: #98be42;\\n\"])), baseStyles);\nvar templateObject_1, templateObject_2, templateObject_3, templateObject_4, templateObject_5;\n","var __makeTemplateObject = (this && this.__makeTemplateObject) || function (cooked, raw) {\n    if (Object.defineProperty) { Object.defineProperty(cooked, \"raw\", { value: raw }); } else { cooked.raw = raw; }\n    return cooked;\n};\nvar __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nimport React, { PureComponent } from 'react';\nimport styled from 'react-emotion';\nimport { DefaultButton, TextButton } from './buttons';\nimport fontStyles from './font-styles';\nvar Overlay = styled('div')(templateObject_1 || (templateObject_1 = __makeTemplateObject([\"\\n  background: rgba(0, 0, 0, 0.2);\\n  position: fixed;\\n  top: 0;\\n  left: 0;\\n  width: 100%;\\n  height: 100%;\\n  z-index: 1250;\\n  display: grid;\\n  place-items: center;\\n  @media screen and (max-width: 600px) {\\n    place-items: end;\\n  }\\n\"], [\"\\n  background: rgba(0, 0, 0, 0.2);\\n  position: fixed;\\n  top: 0;\\n  left: 0;\\n  width: 100%;\\n  height: 100%;\\n  z-index: 1250;\\n  display: grid;\\n  place-items: center;\\n  @media screen and (max-width: 600px) {\\n    place-items: end;\\n  }\\n\"])));\nvar Title = styled('h4')(templateObject_2 || (templateObject_2 = __makeTemplateObject([\"\\n  margin-top: 0;\\n  margin-bottom: 0.7em;\\n  text-transform: uppercase;\\n\"], [\"\\n  margin-top: 0;\\n  margin-bottom: 0.7em;\\n  text-transform: uppercase;\\n\"])));\nvar Root = styled('div')(templateObject_3 || (templateObject_3 = __makeTemplateObject([\"\\n  \", \"\\n  border-radius: 4px;\\n  margin: 8px;\\n  max-width: 500px;\\n  padding: 16px;\\n  background: \", \";\\n  color: \", \";\\n  font-size: 14px;\\n  line-height: 1.3;\\n  @media screen and (max-width: 600px) {\\n    margin: 0;\\n    border-radius: 0;\\n  }\\n\"], [\"\\n  \", \"\\n  border-radius: 4px;\\n  margin: 8px;\\n  max-width: 500px;\\n  padding: 16px;\\n  background: \", \";\\n  color: \", \";\\n  font-size: 14px;\\n  line-height: 1.3;\\n  @media screen and (max-width: 600px) {\\n    margin: 0;\\n    border-radius: 0;\\n  }\\n\"])), fontStyles, function (props) { return props.backgroundColor; }, function (props) { return props.textColor; });\nvar Content = styled('div')(templateObject_4 || (templateObject_4 = __makeTemplateObject([\"\\n  a,\\n  button {\\n    display: inline;\\n    padding: 0;\\n    border: none;\\n    background: none;\\n    color: inherit;\\n    font: inherit;\\n    text-decoration: underline;\\n    cursor: pointer;\\n  }\\n  margin-bottom: 0.7em;\\n\"], [\"\\n  a,\\n  button {\\n    display: inline;\\n    padding: 0;\\n    border: none;\\n    background: none;\\n    color: inherit;\\n    font: inherit;\\n    text-decoration: underline;\\n    cursor: pointer;\\n  }\\n  margin-bottom: 0.7em;\\n\"])));\nvar P = styled('p')(templateObject_5 || (templateObject_5 = __makeTemplateObject([\"\\n  margin: 0;\\n  &:not(:last-child) {\\n    margin-bottom: 6px;\\n  }\\n\"], [\"\\n  margin: 0;\\n  &:not(:last-child) {\\n    margin-bottom: 6px;\\n  }\\n\"])));\nvar Actions = styled('div')(templateObject_6 || (templateObject_6 = __makeTemplateObject([\"\\n  text-align: right;\\n  button.preferences {\\n    float: left;\\n    padding-left: 0;\\n    padding-right: 0;\\n    border-radius: 0;\\n    margin: 0;\\n  }\\n\"], [\"\\n  text-align: right;\\n  button.preferences {\\n    float: left;\\n    padding-left: 0;\\n    padding-right: 0;\\n    border-radius: 0;\\n    margin: 0;\\n  }\\n\"])));\nvar Banner = /** @class */ (function (_super) {\n    __extends(Banner, _super);\n    function Banner() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    Banner.prototype.render = function () {\n        var _a = this.props, innerRef = _a.innerRef, onClose = _a.onClose, onChangePreferences = _a.onChangePreferences, content = _a.content, backgroundColor = _a.backgroundColor, textColor = _a.textColor, showRejectAll = _a.showRejectAll;\n        return (React.createElement(Overlay, null,\n            React.createElement(Root, { innerRef: innerRef, backgroundColor: backgroundColor, textColor: textColor },\n                React.createElement(Content, null,\n                    React.createElement(Title, null, \"Cookies & Your Privacy\"),\n                    React.createElement(P, null, content)),\n                React.createElement(Actions, null,\n                    React.createElement(TextButton, { className: \"preferences\", type: \"button\", title: \"Preferences\", \"aria-label\": \"Close\", onClick: onChangePreferences }, \"Manage\"),\n                    showRejectAll && (React.createElement(DefaultButton, { type: \"button\", title: \"Reject\", \"aria-label\": \"Close\", onClick: function () { return onClose(\"deny\" /* DENY */); } }, \"Reject All\")),\n                    React.createElement(DefaultButton, { type: \"button\", title: \"Accept\", \"aria-label\": \"Close\", onClick: function () { return onClose(\"accept\" /* ACCEPT */); } }, \"Accept All\")))));\n    };\n    Banner.displayName = 'Banner';\n    return Banner;\n}(PureComponent));\nexport default Banner;\nvar templateObject_1, templateObject_2, templateObject_3, templateObject_4, templateObject_5, templateObject_6;\n","var __makeTemplateObject = (this && this.__makeTemplateObject) || function (cooked, raw) {\n    if (Object.defineProperty) { Object.defineProperty(cooked, \"raw\", { value: raw }); } else { cooked.raw = raw; }\n    return cooked;\n};\nvar __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nimport React, { PureComponent } from 'react';\nimport ReactDOM from 'react-dom';\nimport styled, { keyframes } from 'react-emotion';\nimport nanoid from 'nanoid';\nimport fontStyles from './font-styles';\nvar ANIMATION_DURATION = '200ms';\nvar ANIMATION_EASING = 'cubic-bezier(0.0, 0.0, 0.2, 1)';\nvar Overlay = styled('div')(templateObject_1 || (templateObject_1 = __makeTemplateObject([\"\\n  position: fixed;\\n  left: 0;\\n  right: 0;\\n  top: 0;\\n  bottom: 0;\\n  z-index: 1251;\\n  display: flex;\\n  align-items: center;\\n  justify-content: center;\\n  background: rgba(0, 0, 0, 0.3);\\n\"], [\"\\n  position: fixed;\\n  left: 0;\\n  right: 0;\\n  top: 0;\\n  bottom: 0;\\n  z-index: 1251;\\n  display: flex;\\n  align-items: center;\\n  justify-content: center;\\n  background: rgba(0, 0, 0, 0.3);\\n\"])));\nvar openAnimation = keyframes(templateObject_2 || (templateObject_2 = __makeTemplateObject([\"\\n  from {\\n    transform: scale(0.8);\\n    opacity: 0;\\n  }\\n  to {\\n    transform: scale(1);\\n    opacity: 1;\\n  }\\n\"], [\"\\n  from {\\n    transform: scale(0.8);\\n    opacity: 0;\\n  }\\n  to {\\n    transform: scale(1);\\n    opacity: 1;\\n  }\\n\"])));\nvar Root = styled('section')(templateObject_3 || (templateObject_3 = __makeTemplateObject([\"\\n  \", \";\\n  display: flex;\\n  flex-direction: column;\\n  max-width: calc(100vw - 16px);\\n  max-height: calc(100vh - 16px);\\n  width: \", \";\\n  margin: 8px;\\n  background: #fff;\\n  border-radius: 8px;\\n  animation: \", \" \", \" \", \" both;\\n\"], [\"\\n  \", \";\\n  display: flex;\\n  flex-direction: column;\\n  max-width: calc(100vw - 16px);\\n  max-height: calc(100vh - 16px);\\n  width: \", \";\\n  margin: 8px;\\n  background: #fff;\\n  border-radius: 8px;\\n  animation: \", \" \", \" \", \" both;\\n\"])), fontStyles, function (props) { return props.width; }, openAnimation, ANIMATION_DURATION, ANIMATION_EASING);\nvar Form = styled('form')(templateObject_4 || (templateObject_4 = __makeTemplateObject([\"\\n  display: flex;\\n  flex-direction: column;\\n  min-height: 0;\\n\"], [\"\\n  display: flex;\\n  flex-direction: column;\\n  min-height: 0;\\n\"])));\nvar Header = styled('div')(templateObject_5 || (templateObject_5 = __makeTemplateObject([\"\\n  flex: 1 0 auto;\\n  display: flex;\\n  align-items: center;\\n  justify-content: space-between;\\n  padding: 12px 16px;\\n  border-bottom: 1px solid rgba(67, 90, 111, 0.079);\\n\"], [\"\\n  flex: 1 0 auto;\\n  display: flex;\\n  align-items: center;\\n  justify-content: space-between;\\n  padding: 12px 16px;\\n  border-bottom: 1px solid rgba(67, 90, 111, 0.079);\\n\"])));\nvar Title = styled('h4')(templateObject_6 || (templateObject_6 = __makeTemplateObject([\"\\n  margin: 0;\\n  text-transform: uppercase;\\n\"], [\"\\n  margin: 0;\\n  text-transform: uppercase;\\n\"])));\nvar HeaderCancelButton = styled('button')(templateObject_7 || (templateObject_7 = __makeTemplateObject([\"\\n  padding: 8px;\\n  border: none;\\n  background: none;\\n  color: inherit;\\n  font: inherit;\\n  font-size: 14px;\\n  line-height: 1;\\n  cursor: pointer;\\n\"], [\"\\n  padding: 8px;\\n  border: none;\\n  background: none;\\n  color: inherit;\\n  font: inherit;\\n  font-size: 14px;\\n  line-height: 1;\\n  cursor: pointer;\\n\"])));\nvar Content = styled('div')(templateObject_8 || (templateObject_8 = __makeTemplateObject([\"\\n  overflow-y: auto;\\n  padding: 16px;\\n  padding-bottom: 0;\\n  min-height: 0;\\n  font-size: 14px;\\n  line-height: 1.2;\\n\\n  p {\\n    margin: 0;\\n    &:not(:last-child) {\\n      margin-bottom: 0.7em;\\n    }\\n  }\\n\"], [\"\\n  overflow-y: auto;\\n  padding: 16px;\\n  padding-bottom: 0;\\n  min-height: 0;\\n  font-size: 14px;\\n  line-height: 1.2;\\n\\n  p {\\n    margin: 0;\\n    &:not(:last-child) {\\n      margin-bottom: 0.7em;\\n    }\\n  }\\n\"])));\nvar Buttons = styled('div')(templateObject_9 || (templateObject_9 = __makeTemplateObject([\"\\n  padding: 16px;\\n  text-align: right;\\n\"], [\"\\n  padding: 16px;\\n  text-align: right;\\n\"])));\nvar Dialog = /** @class */ (function (_super) {\n    __extends(Dialog, _super);\n    function Dialog(props) {\n        var _this = _super.call(this, props) || this;\n        _this.handleRootRef = function (node) {\n            _this.root = node;\n        };\n        _this.handleFormRef = function (node) {\n            _this.form = node;\n        };\n        _this.handleOverlayClick = function (e) {\n            var onCancel = _this.props.onCancel;\n            // Ignore propogated clicks from inside the dialog\n            if (onCancel && _this.root && !_this.root.contains(e.target)) {\n                onCancel();\n            }\n        };\n        _this.handleEsc = function (e) {\n            var onCancel = _this.props.onCancel;\n            // Esc key\n            if (onCancel && e.keyCode === 27) {\n                onCancel();\n            }\n        };\n        _this.titleId = nanoid();\n        _this.container = document.createElement('div');\n        _this.container.setAttribute('data-consent-manager-dialog', '');\n        document.body.appendChild(_this.container);\n        return _this;\n    }\n    Dialog.prototype.render = function () {\n        var _a = this.props, onCancel = _a.onCancel, onSubmit = _a.onSubmit, title = _a.title, children = _a.children, buttons = _a.buttons, width = _a.width;\n        var dialog = (React.createElement(Overlay, { onClick: this.handleOverlayClick },\n            React.createElement(Root, { innerRef: this.handleRootRef, role: \"dialog\", \"aria-modal\": true, \"aria-labelledby\": this.titleId, width: width },\n                React.createElement(Header, null,\n                    React.createElement(Title, { id: this.titleId }, title),\n                    onCancel && (React.createElement(HeaderCancelButton, { onClick: onCancel, title: \"Cancel\", \"aria-label\": \"Cancel\" }, \"\\u2715\"))),\n                React.createElement(Form, { innerRef: this.handleFormRef, onSubmit: onSubmit },\n                    React.createElement(Content, null, children),\n                    React.createElement(Buttons, null, buttons)))));\n        return ReactDOM.createPortal(dialog, this.container);\n    };\n    Dialog.prototype.componentDidMount = function () {\n        var innerRef = this.props.innerRef;\n        if (this.form) {\n            var input = this.form.querySelector('input,button');\n            if (input) {\n                input.focus();\n            }\n        }\n        document.body.addEventListener('keydown', this.handleEsc, false);\n        document.body.style.overflow = 'hidden';\n        innerRef(this.container);\n    };\n    Dialog.prototype.componentWillUnmount = function () {\n        var innerRef = this.props.innerRef;\n        document.body.removeEventListener('keydown', this.handleEsc, false);\n        document.body.style.overflow = '';\n        document.body.removeChild(this.container);\n        innerRef(null);\n    };\n    Dialog.displayName = 'Dialog';\n    Dialog.defaultProps = {\n        onCancel: undefined,\n        width: '750px'\n    };\n    return Dialog;\n}(PureComponent));\nexport default Dialog;\nvar templateObject_1, templateObject_2, templateObject_3, templateObject_4, templateObject_5, templateObject_6, templateObject_7, templateObject_8, templateObject_9;\n","var __makeTemplateObject = (this && this.__makeTemplateObject) || function (cooked, raw) {\n    if (Object.defineProperty) { Object.defineProperty(cooked, \"raw\", { value: raw }); } else { cooked.raw = raw; }\n    return cooked;\n};\nvar __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nimport React, { PureComponent } from 'react';\nimport styled, { css } from 'react-emotion';\nimport Dialog from './dialog';\nimport { DefaultButton, GreenButton } from './buttons';\nvar hideOnMobile = css(templateObject_1 || (templateObject_1 = __makeTemplateObject([\"\\n  @media (max-width: 600px) {\\n    display: none;\\n  }\\n\"], [\"\\n  @media (max-width: 600px) {\\n    display: none;\\n  }\\n\"])));\nvar P = styled('p')(templateObject_2 || (templateObject_2 = __makeTemplateObject([\"\\n  a {\\n    color: inherit;\\n    text-decoration: underline;\\n  }\\n\"], [\"\\n  a {\\n    color: inherit;\\n    text-decoration: underline;\\n  }\\n\"])));\nvar TableScroll = styled('div')(templateObject_3 || (templateObject_3 = __makeTemplateObject([\"\\n  overflow-x: auto;\\n  margin-top: 16px;\\n\"], [\"\\n  overflow-x: auto;\\n  margin-top: 16px;\\n\"])));\nvar Table = styled('table')(templateObject_4 || (templateObject_4 = __makeTemplateObject([\"\\n  border-collapse: collapse;\\n  font-size: 12px;\\n\"], [\"\\n  border-collapse: collapse;\\n  font-size: 12px;\\n\"])));\nvar ColumnHeading = styled('th')(templateObject_5 || (templateObject_5 = __makeTemplateObject([\"\\n  background: #f7f8fa;\\n  color: #1f4160;\\n  font-weight: 600;\\n  text-align: left;\\n  border-width: 2px;\\n\"], [\"\\n  background: #f7f8fa;\\n  color: #1f4160;\\n  font-weight: 600;\\n  text-align: left;\\n  border-width: 2px;\\n\"])));\nvar RowHeading = styled('th')(templateObject_6 || (templateObject_6 = __makeTemplateObject([\"\\n  font-weight: normal;\\n  text-align: left;\\n\"], [\"\\n  font-weight: normal;\\n  text-align: left;\\n\"])));\nvar Row = styled('tr')(templateObject_7 || (templateObject_7 = __makeTemplateObject([\"\\n  th,\\n  td {\\n    vertical-align: top;\\n    padding: 8px 12px;\\n    border: 1px solid rgba(67, 90, 111, 0.114);\\n  }\\n  td {\\n    border-top: none;\\n  }\\n\"], [\"\\n  th,\\n  td {\\n    vertical-align: top;\\n    padding: 8px 12px;\\n    border: 1px solid rgba(67, 90, 111, 0.114);\\n  }\\n  td {\\n    border-top: none;\\n  }\\n\"])));\nvar InputCell = styled('td')(templateObject_8 || (templateObject_8 = __makeTemplateObject([\"\\n  input {\\n    vertical-align: middle;\\n  }\\n  label {\\n    display: block;\\n    margin-bottom: 4px;\\n    white-space: nowrap;\\n  }\\n\"], [\"\\n  input {\\n    vertical-align: middle;\\n  }\\n  label {\\n    display: block;\\n    margin-bottom: 4px;\\n    white-space: nowrap;\\n  }\\n\"])));\nvar PreferenceDialog = /** @class */ (function (_super) {\n    __extends(PreferenceDialog, _super);\n    function PreferenceDialog() {\n        var _this = _super !== null && _super.apply(this, arguments) || this;\n        _this.handleChange = function (e) {\n            var onChange = _this.props.onChange;\n            onChange(e.target.name, e.target.value === 'true');\n        };\n        _this.handleSubmit = function (e) {\n            var _a = _this.props, onSave = _a.onSave, preferences = _a.preferences, marketingAndAnalytics = _a.marketingAndAnalytics, advertising = _a.advertising, functional = _a.functional, customCategories = _a.customCategories;\n            e.preventDefault();\n            // Safe guard against browsers that don't prevent the\n            // submission of invalid forms (Safari < 10.1)\n            if (!customCategories &&\n                (marketingAndAnalytics === null || advertising === null || functional === null)) {\n                return;\n            }\n            // Safe guard against custom categories being null\n            if (customCategories &&\n                Object.keys(customCategories).some(function (category) { return preferences[category] === null; })) {\n                return;\n            }\n            onSave();\n        };\n        return _this;\n    }\n    PreferenceDialog.prototype.render = function () {\n        var _this = this;\n        var _a = this.props, innerRef = _a.innerRef, onCancel = _a.onCancel, onClose = _a.onClose, marketingDestinations = _a.marketingDestinations, advertisingDestinations = _a.advertisingDestinations, functionalDestinations = _a.functionalDestinations, marketingAndAnalytics = _a.marketingAndAnalytics, advertising = _a.advertising, functional = _a.functional, customCategories = _a.customCategories, destinations = _a.destinations, title = _a.title, content = _a.content, preferences = _a.preferences;\n        var buttons = (React.createElement(\"div\", null,\n            React.createElement(DefaultButton, { type: \"button\", title: \"Reject\", \"aria-label\": \"Close\", onClick: function () { return onClose(\"deny\" /* DENY */); } }, \"Reject All\"),\n            React.createElement(DefaultButton, { type: \"button\", title: \"Accept\", \"aria-label\": \"Close\", onClick: function () { return onClose(\"accept\" /* ACCEPT */); } }, \"Accept All\"),\n            React.createElement(GreenButton, { type: \"submit\" }, \"Save\")));\n        return (React.createElement(Dialog, { innerRef: innerRef, title: title, buttons: buttons, onCancel: onCancel, onSubmit: this.handleSubmit },\n            React.createElement(P, null, content),\n            React.createElement(TableScroll, null,\n                React.createElement(Table, null,\n                    React.createElement(\"thead\", null,\n                        React.createElement(Row, null,\n                            React.createElement(ColumnHeading, { scope: \"col\" }, \"Allow\"),\n                            React.createElement(ColumnHeading, { scope: \"col\" }, \"Category\"),\n                            React.createElement(ColumnHeading, { scope: \"col\" }, \"Purpose\"),\n                            React.createElement(ColumnHeading, { scope: \"col\", className: hideOnMobile }, \"Tools\"))),\n                    React.createElement(\"tbody\", null,\n                        !customCategories && (React.createElement(React.Fragment, null,\n                            React.createElement(Row, null,\n                                React.createElement(InputCell, null,\n                                    React.createElement(\"label\", null,\n                                        React.createElement(\"input\", { type: \"radio\", name: \"functional\", value: \"true\", checked: functional === true, onChange: this.handleChange, \"aria-label\": \"Allow functional tracking\", required: true }),\n                                        ' ',\n                                        \"Yes\"),\n                                    React.createElement(\"label\", null,\n                                        React.createElement(\"input\", { type: \"radio\", name: \"functional\", value: \"false\", checked: functional === false, onChange: this.handleChange, \"aria-label\": \"Disallow functional tracking\", required: true }),\n                                        ' ',\n                                        \"No\")),\n                                React.createElement(RowHeading, { scope: \"row\" }, \"Functional\"),\n                                React.createElement(\"td\", null,\n                                    React.createElement(\"p\", null, \"To monitor the performance of our site and to enhance your browsing experience.\"),\n                                    React.createElement(\"p\", { className: hideOnMobile }, \"For example, these tools enable you to communicate with us via live chat.\")),\n                                React.createElement(\"td\", { className: hideOnMobile }, functionalDestinations.map(function (d) { return d.name; }).join(', '))),\n                            React.createElement(Row, null,\n                                React.createElement(InputCell, null,\n                                    React.createElement(\"label\", null,\n                                        React.createElement(\"input\", { type: \"radio\", name: \"marketingAndAnalytics\", value: \"true\", checked: marketingAndAnalytics === true, onChange: this.handleChange, \"aria-label\": \"Allow marketing and analytics tracking\", required: true }),\n                                        ' ',\n                                        \"Yes\"),\n                                    React.createElement(\"label\", null,\n                                        React.createElement(\"input\", { type: \"radio\", name: \"marketingAndAnalytics\", value: \"false\", checked: marketingAndAnalytics === false, onChange: this.handleChange, \"aria-label\": \"Disallow marketing and analytics tracking\", required: true }),\n                                        ' ',\n                                        \"No\")),\n                                React.createElement(RowHeading, { scope: \"row\" }, \"Marketing and Analytics\"),\n                                React.createElement(\"td\", null,\n                                    React.createElement(\"p\", null, \"To understand user behavior in order to provide you with a more relevant browsing experience or personalize the content on our site.\"),\n                                    React.createElement(\"p\", { className: hideOnMobile }, \"For example, we collect information about which pages you visit to help us present more relevant information.\")),\n                                React.createElement(\"td\", { className: hideOnMobile }, marketingDestinations.map(function (d) { return d.name; }).join(', '))),\n                            React.createElement(Row, null,\n                                React.createElement(InputCell, null,\n                                    React.createElement(\"label\", null,\n                                        React.createElement(\"input\", { type: \"radio\", name: \"advertising\", value: \"true\", checked: advertising === true, onChange: this.handleChange, \"aria-label\": \"Allow advertising tracking\", required: true }),\n                                        ' ',\n                                        \"Yes\"),\n                                    React.createElement(\"label\", null,\n                                        React.createElement(\"input\", { type: \"radio\", name: \"advertising\", value: \"false\", checked: advertising === false, onChange: this.handleChange, \"aria-label\": \"Disallow advertising tracking\", required: true }),\n                                        ' ',\n                                        \"No\")),\n                                React.createElement(RowHeading, { scope: \"row\" }, \"Advertising\"),\n                                React.createElement(\"td\", null,\n                                    React.createElement(\"p\", null, \"To personalize and measure the effectiveness of advertising on our site and other websites.\"),\n                                    React.createElement(\"p\", { className: hideOnMobile }, \"For example, we may serve you a personalized ad based on the pages you visit on our site.\")),\n                                React.createElement(\"td\", { className: hideOnMobile }, advertisingDestinations.map(function (d) { return d.name; }).join(', '))))),\n                        customCategories &&\n                            Object.entries(customCategories).map(function (_a) {\n                                var categoryName = _a[0], _b = _a[1], integrations = _b.integrations, purpose = _b.purpose;\n                                return (React.createElement(Row, { key: categoryName },\n                                    React.createElement(InputCell, null,\n                                        React.createElement(\"label\", null,\n                                            React.createElement(\"input\", { type: \"radio\", name: categoryName, value: \"true\", checked: preferences[categoryName] === true, onChange: _this.handleChange, \"aria-label\": \"Allow \\\"\" + categoryName + \"\\\" tracking\", required: true }),\n                                            ' ',\n                                            \"Yes\"),\n                                        React.createElement(\"label\", null,\n                                            React.createElement(\"input\", { type: \"radio\", name: categoryName, value: \"false\", checked: preferences[categoryName] === false, onChange: _this.handleChange, \"aria-label\": \"Disallow \\\"\" + categoryName + \"\\\" tracking\", required: true }),\n                                            ' ',\n                                            \"No\")),\n                                    React.createElement(RowHeading, { scope: \"row\" }, categoryName),\n                                    React.createElement(\"td\", null,\n                                        React.createElement(\"p\", null, purpose)),\n                                    React.createElement(\"td\", { className: hideOnMobile }, destinations\n                                        .filter(function (d) { return integrations.includes(d.id); })\n                                        .map(function (d) { return d.name; })\n                                        .join(', '))));\n                            }),\n                        React.createElement(Row, null,\n                            React.createElement(\"td\", null, \"N/A\"),\n                            React.createElement(RowHeading, { scope: \"row\" }, \"Essential\"),\n                            React.createElement(\"td\", null,\n                                React.createElement(\"p\", null, \"We use browser cookies that are necessary for the site to work as intended.\"),\n                                React.createElement(\"p\", null, \"For example, we store your website data collection preferences so we can honor them if you return to our site. You can disable these cookies in your browser settings but if you do the site may not work as intended.\")),\n                            React.createElement(\"td\", { className: hideOnMobile })))))));\n    };\n    PreferenceDialog.displayName = 'PreferenceDialog';\n    PreferenceDialog.defaultProps = {\n        marketingAndAnalytics: null,\n        advertising: null,\n        functional: null\n    };\n    return PreferenceDialog;\n}(PureComponent));\nexport default PreferenceDialog;\nvar templateObject_1, templateObject_2, templateObject_3, templateObject_4, templateObject_5, templateObject_6, templateObject_7, templateObject_8;\n","import EventEmitter from 'events';\nimport React from 'react';\nimport Banner from './banner';\nimport PreferenceDialog from './preference-dialog';\nimport { ADVERTISING_CATEGORIES, FUNCTIONAL_CATEGORIES } from './categories';\nimport { emitter as prefsEmitter } from '../consent-manager-builder/preferences';\nvar emitter = new EventEmitter();\nexport function openDialog() {\n    emitter.emit('openDialog');\n}\nfunction normalizeDestinations(destinations) {\n    var marketingDestinations = [];\n    var advertisingDestinations = [];\n    var functionalDestinations = [];\n    var _loop_1 = function (destination) {\n        if (ADVERTISING_CATEGORIES.find(function (c) { return c === destination.category; })) {\n            advertisingDestinations.push(destination);\n        }\n        else if (FUNCTIONAL_CATEGORIES.find(function (c) { return c === destination.category; })) {\n            functionalDestinations.push(destination);\n        }\n        else {\n            // Fallback to marketing\n            marketingDestinations.push(destination);\n        }\n    };\n    for (var _i = 0, destinations_1 = destinations; _i < destinations_1.length; _i++) {\n        var destination = destinations_1[_i];\n        _loop_1(destination);\n    }\n    return { marketingDestinations: marketingDestinations, advertisingDestinations: advertisingDestinations, functionalDestinations: functionalDestinations };\n}\nvar Container = function (props) {\n    var _a = React.useState(false || (props.workspaceAddedNewDestinations && props.defaultDestinationBehavior === 'ask')), isDialogOpen = _a[0], toggleDialog = _a[1];\n    var _b = React.useState(true), showBanner = _b[0], toggleBanner = _b[1];\n    var banner = React.useRef(null);\n    var preferenceDialog = React.useRef(null);\n    var _c = normalizeDestinations(props.destinations), marketingDestinations = _c.marketingDestinations, advertisingDestinations = _c.advertisingDestinations, functionalDestinations = _c.functionalDestinations;\n    var handleBodyClick = function (e) {\n        // Do nothing if no new implicit consent needs to be saved\n        if (!props.isConsentRequired ||\n            !props.implyConsentOnInteraction ||\n            props.newDestinations.length === 0) {\n            return;\n        }\n        // Ignore propogated clicks from inside the consent manager\n        if ((banner.current && banner.current.contains(e.target)) ||\n            (preferenceDialog.current && preferenceDialog.current.contains(e.target))) {\n            return;\n        }\n        props.saveConsent(undefined, false);\n    };\n    var showDialog = function () { return toggleDialog(true); };\n    React.useEffect(function () {\n        emitter.on('openDialog', showDialog);\n        if (props.isConsentRequired && props.implyConsentOnInteraction) {\n            document.body.addEventListener('click', handleBodyClick, false);\n        }\n        return function () {\n            emitter.removeListener('openDialog', showDialog);\n            document.body.removeEventListener('click', handleBodyClick, false);\n        };\n    });\n    React.useEffect(function () {\n        if (isDialogOpen) {\n            props.resetPreferences();\n        }\n    }, [isDialogOpen]);\n    React.useEffect(function () {\n        if (showBanner && props.isConsentRequired && props.newDestinations.length > 0) {\n            prefsEmitter.emit('willShowBanner');\n        }\n    }, [showBanner, props.isConsentRequired, props.newDestinations]);\n    var onClose = function (forceCloseBehavior) {\n        var closeBehavior = forceCloseBehavior || props.closeBehavior;\n        toggleDialog(false);\n        if (closeBehavior === undefined || closeBehavior === \"dismiss\" /* DISMISS */) {\n            return toggleBanner(false);\n        }\n        if (closeBehavior === \"accept\" /* ACCEPT */) {\n            var truePreferences = Object.keys(props.preferences).reduce(function (acc, category) {\n                acc[category] = true;\n                return acc;\n            }, {});\n            props.setPreferences(truePreferences);\n            return props.saveConsent();\n        }\n        if (closeBehavior === \"deny\" /* DENY */) {\n            var falsePreferences = Object.keys(props.preferences).reduce(function (acc, category) {\n                acc[category] = false;\n                return acc;\n            }, {});\n            props.setPreferences(falsePreferences);\n            return props.saveConsent();\n        }\n        // closeBehavior is a custom function\n        var customClosePreferences = closeBehavior(props.preferences);\n        props.setPreferences(customClosePreferences);\n        props.saveConsent();\n        return toggleBanner(false);\n    };\n    var handleCategoryChange = function (category, value) {\n        var _a;\n        props.setPreferences((_a = {},\n            _a[category] = value,\n            _a));\n    };\n    var handleSave = function () {\n        toggleDialog(false);\n        props.saveConsent();\n    };\n    var handleCancel = function () {\n        // Only show the cancel confirmation if there's unconsented destinations\n        if (props.newDestinations.length > 0) {\n            toggleDialog(false);\n        }\n        else {\n            toggleDialog(false);\n            props.resetPreferences();\n        }\n    };\n    return (React.createElement(\"div\", null,\n        showBanner && props.isConsentRequired && props.newDestinations.length > 0 && (React.createElement(Banner, { innerRef: function (current) { return (banner = { current: current }); }, onClose: onClose, onChangePreferences: function () { return toggleDialog(true); }, content: props.bannerContent, subContent: props.bannerSubContent, textColor: props.bannerTextColor, backgroundColor: props.bannerBackgroundColor, showRejectAll: props.showRejectAll })),\n        isDialogOpen && (React.createElement(PreferenceDialog, { customCategories: props.customCategories, destinations: props.destinations, preferences: props.preferences, innerRef: function (current) { return (preferenceDialog = { current: current }); }, onCancel: handleCancel, onSave: handleSave, onChange: handleCategoryChange, onClose: onClose, marketingDestinations: marketingDestinations, advertisingDestinations: advertisingDestinations, functionalDestinations: functionalDestinations, marketingAndAnalytics: props.preferences.marketingAndAnalytics, advertising: props.preferences.advertising, functional: props.preferences.functional, title: props.preferencesDialogTitle, content: props.preferencesDialogContent }))));\n};\nexport default Container;\n","import { configure } from '@storybook/react'\n\nconfigure(require.context('../stories', true, /\\.stories\\.tsx$/), module)\n","var map = {\n\t\"./0-consent-manager.stories.tsx\": 783,\n\t\"./0.1-consent-manager-close-interaction.stories.tsx\": 1060,\n\t\"./1-standalone.stories.tsx\": 1061,\n\t\"./1.1-standalone-custom.stories.tsx\": 1062,\n\t\"./2-category-based.stories.tsx\": 1063,\n\t\"./3-tool-based.stories.tsx\": 1064,\n\t\"./4-custom-consent.stories.tsx\": 1065,\n\t\"./5-custom-categories.stories.tsx\": 1066,\n\t\"./6-ccpa-gdpr-example.stories.tsx\": 1067,\n\t\"./7-default-destination-behavior.stories.tsx\": 1073\n};\n\n\nfunction webpackContext(req) {\n\tvar id = webpackContextResolve(req);\n\treturn __webpack_require__(id);\n}\nfunction webpackContextResolve(req) {\n\tif(!__webpack_require__.o(map, req)) {\n\t\tvar e = new Error(\"Cannot find module '\" + req + \"'\");\n\t\te.code = 'MODULE_NOT_FOUND';\n\t\tthrow e;\n\t}\n\treturn map[req];\n}\nwebpackContext.keys = function webpackContextKeys() {\n\treturn Object.keys(map);\n};\nwebpackContext.resolve = webpackContextResolve;\nmodule.exports = webpackContext;\nwebpackContext.id = 782;","var __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\n// @ts-ignore\nvar withSourceLoader = require('@storybook/source-loader/preview').withSource;\n// @ts-ignore\nvar __SOURCE_PREFIX__ = \"/home/guy/Dev/consent-manager/stories\";\n// @ts-ignore\nvar __STORY__ = \"import React from 'react'\\nimport cookies from 'js-cookie'\\nimport { Pane, Heading, Button } from 'evergreen-ui'\\nimport { ConsentManager, openConsentManager, loadPreferences, onPreferencesSaved } from '../src'\\nimport { storiesOf } from '@storybook/react'\\nimport { CloseBehavior, CloseBehaviorFunction } from '../src/consent-manager/container'\\nimport { docco } from 'react-syntax-highlighter/dist/esm/styles/hljs'\\nimport SyntaxHighlighter from 'react-syntax-highlighter'\\nimport { Preferences } from '../src/types'\\nimport CookieView from './components/CookieView'\\n\\nconst bannerContent = (\\n  <span>\\n    We use cookies (and other similar technologies) to collect data to improve your experience on\\n    our site. By using our website, you’re agreeing to the collection of data as described in our{' '}\\n    <a\\n      href=\\\"https://segment.com/docs/legal/website-data-collection-policy/\\\"\\n      target=\\\"_blank\\\"\\n      rel=\\\"noopener noreferrer\\\"\\n    >\\n      Website Data Collection Policy\\n    </a>\\n    .\\n  </span>\\n)\\nconst bannerSubContent = 'You can manage your preferences here!'\\nconst preferencesDialogTitle = 'Website Data Collection Preferences'\\nconst preferencesDialogContent = (\\n  <div>\\n    <p>\\n      Segment uses data collected by cookies and JavaScript libraries to improve your browsing\\n      experience, analyze site traffic, deliver personalized advertisements, and increase the\\n      overall performance of our site.\\n    </p>\\n    <p>\\n      By using our website, you’re agreeing to our{' '}\\n      <a\\n        href=\\\"https://segment.com/docs/legal/website-data-collection-policy/\\\"\\n        target=\\\"_blank\\\"\\n        rel=\\\"noopener noreferrer\\\"\\n      >\\n        Website Data Collection Policy\\n      </a>\\n      .\\n    </p>\\n    <p>\\n      The table below outlines how we use this data by category. To opt out of a category of data\\n      collection, select “No” and save your preferences.\\n    </p>\\n  </div>\\n)\\n\\nconst ConsentManagerExample = (props: { closeBehavior: CloseBehavior | CloseBehaviorFunction }) => {\\n  const [prefs, updatePrefs] = React.useState<Preferences>(loadPreferences())\\n\\n  const cleanup = onPreferencesSaved(preferences => {\\n    updatePrefs(preferences)\\n  })\\n\\n  React.useEffect(() => {\\n    return () => {\\n      cleanup()\\n    }\\n  })\\n\\n  return (\\n    <Pane>\\n      <ConsentManager\\n        writeKey=\\\"tYQQPcY78Hc3T1hXUYk0n4xcbEHnN7r0\\\"\\n        otherWriteKeys={['vMRS7xbsjH97Bb2PeKbEKvYDvgMm5T3l']}\\n        bannerContent={bannerContent}\\n        bannerSubContent={bannerSubContent}\\n        preferencesDialogTitle={preferencesDialogTitle}\\n        preferencesDialogContent={preferencesDialogContent}\\n        closeBehavior={props.closeBehavior}\\n      />\\n\\n      <Pane marginX={100} marginTop={20}>\\n        <Heading> Your website content </Heading>\\n        <Pane display=\\\"flex\\\">\\n          <iframe\\n            src=\\\"https://source.unsplash.com/random/500x600\\\"\\n            width=\\\"480\\\"\\n            height=\\\"480\\\"\\n            frameBorder=\\\"0\\\"\\n          />\\n\\n          <iframe\\n            src=\\\"https://source.unsplash.com/random/500x600\\\"\\n            width=\\\"398\\\"\\n            height=\\\"480\\\"\\n            frameBorder=\\\"0\\\"\\n          />\\n        </Pane>\\n\\n        <p>\\n          <div>\\n            <Heading>Current Preferences</Heading>\\n            <SyntaxHighlighter language=\\\"json\\\" style={docco}>\\n              {JSON.stringify(prefs, null, 2)}\\n            </SyntaxHighlighter>\\n          </div>\\n          <Button marginRight={20} onClick={openConsentManager}>\\n            Change Cookie Preferences\\n          </Button>\\n          <Button\\n            onClick={() => {\\n              cookies.remove('tracking-preferences')\\n              window.location.reload()\\n            }}\\n          >\\n            Clear\\n          </Button>\\n        </p>\\n      </Pane>\\n      <CookieView />\\n    </Pane>\\n  )\\n}\\n\\nstoriesOf('React Component / OnClose interactions', module)\\n  .add(`Dismiss`, () => <ConsentManagerExample closeBehavior={CloseBehavior.DISMISS} />)\\n  .add(`Accept`, () => <ConsentManagerExample closeBehavior={CloseBehavior.ACCEPT} />)\\n  .add(`Deny`, () => <ConsentManagerExample closeBehavior={CloseBehavior.DENY} />)\\n  .add(`Custom Close Behavior`, () => (\\n    <ConsentManagerExample\\n      closeBehavior={categories => ({\\n        ...categories,\\n        advertising: false\\n      })}\\n    />\\n  ))\\n\";\n// @ts-ignore\nvar __ADDS_MAP__ = {};\n// @ts-ignore\nvar __MAIN_FILE_LOCATION__ = \"/0-consent-manager.stories.tsx\";\n// @ts-ignore\nvar __MODULE_DEPENDENCIES__ = [];\n// @ts-ignore\nvar __LOCAL_DEPENDENCIES__ = {};\n// @ts-ignore\nvar __IDS_TO_FRAMEWORKS__ = {};\nimport React from 'react';\nimport cookies from 'js-cookie';\nimport { Pane, Heading, Button } from 'evergreen-ui';\nimport { ConsentManager, openConsentManager, loadPreferences, onPreferencesSaved } from '../src';\nimport { storiesOf } from '@storybook/react';\nimport { docco } from 'react-syntax-highlighter/dist/esm/styles/hljs';\nimport SyntaxHighlighter from 'react-syntax-highlighter';\nimport CookieView from './components/CookieView';\nvar bannerContent = (React.createElement(\"span\", null,\n    \"We use cookies (and other similar technologies) to collect data to improve your experience on our site. By using our website, you\\u2019re agreeing to the collection of data as described in our\",\n    ' ',\n    React.createElement(\"a\", { href: \"https://segment.com/docs/legal/website-data-collection-policy/\", target: \"_blank\", rel: \"noopener noreferrer\" }, \"Website Data Collection Policy\"),\n    \".\"));\nvar bannerSubContent = 'You can manage your preferences here!';\nvar preferencesDialogTitle = 'Website Data Collection Preferences';\nvar preferencesDialogContent = (React.createElement(\"div\", null,\n    React.createElement(\"p\", null, \"Segment uses data collected by cookies and JavaScript libraries to improve your browsing experience, analyze site traffic, deliver personalized advertisements, and increase the overall performance of our site.\"),\n    React.createElement(\"p\", null,\n        \"By using our website, you\\u2019re agreeing to our\",\n        ' ',\n        React.createElement(\"a\", { href: \"https://segment.com/docs/legal/website-data-collection-policy/\", target: \"_blank\", rel: \"noopener noreferrer\" }, \"Website Data Collection Policy\"),\n        \".\"),\n    React.createElement(\"p\", null, \"The table below outlines how we use this data by category. To opt out of a category of data collection, select \\u201CNo\\u201D and save your preferences.\")));\nvar ConsentManagerExample = function (props) {\n    var _a = React.useState(loadPreferences()), prefs = _a[0], updatePrefs = _a[1];\n    var cleanup = onPreferencesSaved(function (preferences) {\n        updatePrefs(preferences);\n    });\n    React.useEffect(function () {\n        return function () {\n            cleanup();\n        };\n    });\n    return (React.createElement(Pane, null,\n        React.createElement(ConsentManager, { writeKey: \"tYQQPcY78Hc3T1hXUYk0n4xcbEHnN7r0\", otherWriteKeys: ['vMRS7xbsjH97Bb2PeKbEKvYDvgMm5T3l'], bannerContent: bannerContent, bannerSubContent: bannerSubContent, preferencesDialogTitle: preferencesDialogTitle, preferencesDialogContent: preferencesDialogContent, closeBehavior: props.closeBehavior }),\n        React.createElement(Pane, { marginX: 100, marginTop: 20 },\n            React.createElement(Heading, null, \" Your website content \"),\n            React.createElement(Pane, { display: \"flex\" },\n                React.createElement(\"iframe\", { src: \"https://source.unsplash.com/random/500x600\", width: \"480\", height: \"480\", frameBorder: \"0\" }),\n                React.createElement(\"iframe\", { src: \"https://source.unsplash.com/random/500x600\", width: \"398\", height: \"480\", frameBorder: \"0\" })),\n            React.createElement(\"p\", null,\n                React.createElement(\"div\", null,\n                    React.createElement(Heading, null, \"Current Preferences\"),\n                    React.createElement(SyntaxHighlighter, { language: \"json\", style: docco }, JSON.stringify(prefs, null, 2))),\n                React.createElement(Button, { marginRight: 20, onClick: openConsentManager }, \"Change Cookie Preferences\"),\n                React.createElement(Button, { onClick: function () {\n                        cookies.remove('tracking-preferences');\n                        window.location.reload();\n                    } }, \"Clear\"))),\n        React.createElement(CookieView, null)));\n};\nstoriesOf('React Component / OnClose interactions', module).addParameters({ storySource: { source: __STORY__, locationsMap: __ADDS_MAP__ } }).addDecorator(withSourceLoader(__STORY__, __ADDS_MAP__, __MAIN_FILE_LOCATION__, __MODULE_DEPENDENCIES__, __LOCAL_DEPENDENCIES__, __SOURCE_PREFIX__, __IDS_TO_FRAMEWORKS__))\n    .add(\"Dismiss\", function () { return React.createElement(ConsentManagerExample, { closeBehavior: \"dismiss\" /* DISMISS */ }); })\n    .add(\"Accept\", function () { return React.createElement(ConsentManagerExample, { closeBehavior: \"accept\" /* ACCEPT */ }); })\n    .add(\"Deny\", function () { return React.createElement(ConsentManagerExample, { closeBehavior: \"deny\" /* DENY */ }); })\n    .add(\"Custom Close Behavior\", function () { return (React.createElement(ConsentManagerExample, { closeBehavior: function (categories) { return (__assign(__assign({}, categories), { advertising: false })); } })); });\n","import React from 'react';\nexport var bannerContent = (React.createElement(\"span\", null,\n    \"We use cookies (and other similar technologies) to collect data to improve your experience on our site. By using our website, you\\u2019re agreeing to the collection of data as described in our\",\n    ' ',\n    React.createElement(\"a\", { href: \"https://segment.com/docs/legal/website-data-collection-policy/\", target: \"_blank\", rel: \"noopener noreferrer\" }, \"Website Data Collection Policy\"),\n    \".\"));\nexport var bannerSubContent = 'You can manage your preferences here!';\nexport var preferencesDialogTitle = 'Website Data Collection Preferences';\nexport var preferencesDialogContent = (React.createElement(\"div\", null,\n    React.createElement(\"p\", null, \"Segment uses data collected by cookies and JavaScript libraries to improve your browsing experience, analyze site traffic, deliver personalized advertisements, and increase the overall performance of our site.\"),\n    React.createElement(\"p\", null,\n        \"By using our website, you\\u2019re agreeing to our\",\n        ' ',\n        React.createElement(\"a\", { href: \"https://segment.com/docs/legal/website-data-collection-policy/\", target: \"_blank\", rel: \"noopener noreferrer\" }, \"Website Data Collection Policy\"),\n        \".\"),\n    React.createElement(\"p\", null, \"The table below outlines how we use this data by category. To opt out of a category of data collection, select \\u201CNo\\u201D and save your preferences.\")));\n","export var MARKETING_AND_ANALYTICS_CATEGORIES = [\n    'A/B Testing',\n    'Analytics',\n    'Attribution',\n    'Email',\n    'Enrichment',\n    'Heatmaps & Recordings',\n    'Raw Data',\n    'Realtime Dashboards',\n    'Referrals',\n    'Surveys',\n    'Video'\n];\nexport var ADVERTISING_CATEGORIES = ['Advertising', 'Tag Managers'];\nexport var FUNCTIONAL_CATEGORIES = [\n    'CRM',\n    'Customer Success',\n    'Deep Linking',\n    'Helpdesk',\n    'Livechat',\n    'Performance Monitoring',\n    'Personalization',\n    'SMS & Push Notifications',\n    'Security & Fraud'\n];\n"],"sourceRoot":""}